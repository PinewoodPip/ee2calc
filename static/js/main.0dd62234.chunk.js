(this.webpackJsonpee2calc=this.webpackJsonpee2calc||[]).push([[0],{11:function(e,t,r){e.exports=r(22)},16:function(e,t,r){},18:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),i=r(8),n=r.n(i),o=(r(16),r(2)),l=r.n(o),c=r(9),d=r(3),u=r(4),m=r(7),h=r(6),p=(r(18),r(1)),f=r.n(p),v=r(5),y=(r(21),{core_full:{name:"Core (Full)",id:"core_full",family:"special",tier:1,requirements:{},rewards:{force:2,entropy:2,form:2,inertia:2,life:2},nodes:5,hasChoiceNode:!1},core_force:{name:"Core (Force)",id:"core_force",family:"force",tier:1,requirements:{},rewards:{force:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},falcon:{name:"Falcon",id:"falcon",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:2},nodes:5,hasChoiceNode:!1},hatchet:{name:"Hatchet",id:"hatchet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:2},nodes:5,hasChoiceNode:!1},hornet:{name:"Hornet",id:"hornet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:1},nodes:3,hasChoiceNode:!1},serpent:{name:"Serpent",id:"serpent",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:1},nodes:3,hasChoiceNode:!1},arcanist:{name:"Arcanist",id:"arcanist",family:"force",tier:2,requirements:{force:5,life:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},archer:{name:"Archer",id:"archer",family:"force",tier:2,requirements:{force:3,entropy:2,life:1},rewards:{force:2,entropy:1},nodes:5,hasChoiceNode:!0},manticore:{name:"Manticore",id:"manticore",family:"force",tier:2,requirements:{force:5,entropy:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},scorpion:{name:"Scorpion",id:"scorpion",family:"force",tier:2,requirements:{force:4,entropy:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},tiger:{name:"Tiger",id:"tiger",family:"force",tier:2,requirements:{force:4,life:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},conqueror:{name:"Conqueror",id:"conqueror",family:"force",tier:3,requirements:{force:7,entropy:1,life:5},rewards:{},nodes:5,hasChoiceNode:!1},kraken:{name:"Kraken",id:"kraken",family:"force",tier:3,requirements:{force:7,entropy:5,life:1},rewards:{},nodes:5,hasChoiceNode:!1},wrath:{name:"Wrath",id:"wrath",family:"force",tier:3,requirements:{force:8,entropy:3,life:2},rewards:{},nodes:5,hasChoiceNode:!1},core_entropy:{name:"Core (Entropy)",id:"core_entropy",family:"entropy",tier:1,requirements:{},rewards:{entropy:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},crow:{name:"Crow",id:"crow",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:1},nodes:3,hasChoiceNode:!1},fly:{name:"Fly",id:"fly",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:2},nodes:5,hasChoiceNode:!1},vulture:{name:"Vulture",id:"vulture",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:2},nodes:5,hasChoiceNode:!1},wolf:{name:"Wolf",id:"wolf",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:1},nodes:3,hasChoiceNode:!1},blood_ape:{name:"Blood Ape",id:"blood_ape",family:"entropy",tier:2,requirements:{entropy:3,force:1,form:2},rewards:{entropy:2,form:1},nodes:5,hasChoiceNode:!0},extinction:{name:"Extinction",id:"extinction",family:"entropy",tier:2,requirements:{entropy:4,force:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},imp:{name:"Imp",id:"imp",family:"entropy",tier:2,requirements:{entropy:5,form:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},hyena:{name:"Hyena",id:"hyena",family:"entropy",tier:2,requirements:{entropy:5,force:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},supplicant:{name:"Supplicant",id:"supplicant",family:"entropy",tier:2,requirements:{entropy:4,form:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},death:{name:"Death",id:"death",family:"entropy",tier:3,requirements:{entropy:8,force:2,form:3},rewards:{},nodes:5,hasChoiceNode:!1},decay:{name:"Decay",id:"decay",family:"entropy",tier:3,requirements:{entropy:7,force:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},demilich:{name:"Demilich",id:"demilich",family:"entropy",tier:3,requirements:{entropy:7,force:1,form:5},rewards:{},nodes:6,hasChoiceNode:!1},core_form:{name:"Core (Form)",id:"core_form",family:"form",tier:1,requirements:{},rewards:{form:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},chalice:{name:"Chalice",id:"chalice",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:2},nodes:5,hasChoiceNode:!1},key:{name:"Key",id:"key",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:2},nodes:5,hasChoiceNode:!1},nautilus:{name:"Nautilus",id:"nautilus",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:1},nodes:3,hasChoiceNode:!1},silkworm:{name:"Silkworm",id:"silkworm",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:1},nodes:3,hasChoiceNode:!1},basilisk:{name:"Basilisk",id:"basilisk",family:"form",tier:2,requirements:{form:4,entropy:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},doppelganger:{name:"Doppelganger",id:"doppelganger",family:"form",tier:2,requirements:{form:5,entropy:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},dragon:{name:"Dragon",id:"dragon",family:"form",tier:2,requirements:{form:5,inertia:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},gryphon:{name:"Gryphon",id:"gryphon",family:"form",tier:2,requirements:{form:4,inertia:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},wealth:{name:"Wealth",id:"wealth",family:"form",tier:2,requirements:{form:3,inertia:2,entropy:1},rewards:{form:2,inertia:1},nodes:5,hasChoiceNode:!0},cerberus:{name:"Cerberus",id:"cerberus",family:"form",tier:3,requirements:{form:7,inertia:5,entropy:1},rewards:{},nodes:5,hasChoiceNode:!1},ritual:{name:"Ritual",id:"ritual",family:"form",tier:3,requirements:{form:7,inertia:1,entropy:5},rewards:{},nodes:5,hasChoiceNode:!1},sphinx:{name:"Sphinx",id:"sphinx",family:"form",tier:3,requirements:{form:8,inertia:3,entropy:2},rewards:{},nodes:5,hasChoiceNode:!1},core_inertia:{name:"Core (Inertia)",id:"core_inertia",family:"inertia",tier:1,requirements:{},rewards:{inertia:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},armadillo:{name:"Armadillo",id:"armadillo",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:1},nodes:3,hasChoiceNode:!1},auroch:{name:"Auroch",id:"auroch",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:1},nodes:3,hasChoiceNode:!1},crab:{name:"Crab",id:"crab",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:2},nodes:5,hasChoiceNode:!1},guardsman:{name:"Guardsman",id:"guardsman",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:2},nodes:5,hasChoiceNode:!1},casque:{name:"Casque",id:"casque",family:"inertia",tier:2,requirements:{inertia:5,life:1},rewards:{inertia:3},nodes:5,hasChoiceNode:!0},centurion:{name:"Centurion",id:"centurion",family:"inertia",tier:2,requirements:{inertia:3,form:1,life:2},rewards:{inertia:2,life:1},nodes:5,hasChoiceNode:!0},gladiator:{name:"Gladiator",id:"gladiator",family:"inertia",tier:2,requirements:{inertia:3,form:3},rewards:{inertia:2,form:1},nodes:5,hasChoiceNode:!0},hippopotamus:{name:"Hippopotamus",id:"hippopotamus",family:"inertia",tier:2,requirements:{inertia:4,life:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},rhinoceros:{name:"Rhinoceros",id:"rhinoceros",family:"inertia",tier:2,requirements:{inertia:4,form:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},arena:{name:"Arena",id:"arena",family:"inertia",tier:3,requirements:{inertia:7,life:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},champion:{name:"Champion",id:"champion",family:"inertia",tier:3,requirements:{inertia:8,life:3,form:2},rewards:{},nodes:5,hasChoiceNode:!1},fortress:{name:"Fortress",id:"fortress",family:"inertia",tier:3,requirements:{inertia:7,life:1,form:5},rewards:{},nodes:5,hasChoiceNode:!1},core_life:{name:"Core (Life)",id:"core_life",family:"life",tier:1,requirements:{},rewards:{life:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},beetle:{name:"Beetle",id:"beetle",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:1},nodes:3,hasChoiceNode:!1},hind:{name:"Hind",id:"hind",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:2},nodes:5,hasChoiceNode:!1},lizard:{name:"Lizard",id:"lizard",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:1},nodes:3,hasChoiceNode:!1},rabbit:{name:"Rabbit",id:"rabbit",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:2},nodes:5,hasChoiceNode:!1},enchantress:{name:"Enchantress",id:"enchantress",family:"life",tier:2,requirements:{life:5,force:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},huntress:{name:"Huntress",id:"huntress",family:"life",tier:2,requirements:{life:3,force:2,inertia:1},rewards:{life:2,force:1},nodes:5,hasChoiceNode:!0},nymph:{name:"Nymph",id:"nymph",family:"life",tier:2,requirements:{life:5,inertia:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},pegasus:{name:"Pegasus",id:"pegasus",family:"life",tier:2,requirements:{life:4,inertia:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},stag:{name:"Stag",id:"stag",family:"life",tier:2,requirements:{life:4,force:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},goddess:{name:"Goddess",id:"goddess",family:"life",tier:3,requirements:{life:7,inertia:5,force:1},rewards:{},nodes:5,hasChoiceNode:!1},hope:{name:"Hope",id:"hope",family:"life",tier:3,requirements:{life:7,inertia:1,force:5},rewards:{},nodes:5,hasChoiceNode:!1},splendor:{name:"Splendor",id:"splendor",family:"life",tier:3,requirements:{life:8,inertia:2,force:3},rewards:{},nodes:5,hasChoiceNode:!1}}),b="How many builds should be randomly generated. With higher amounts the search takes longer but is more likely to find the most efficient build. Keep this in the thousands, and increase it when you're doing crazy searches (3+ aspects chosen, multiple T3s, stuff like that).",g="Use a full Core instead of its lone nodes. A full Core grants 2 of each embodiment for 5 points.",k="'Find shortest paths' gives you paths towards your chosen aspects that require the least amount of points to complete. 'Self-sustain' mode instead gives you a list of other aspects you need to pick in order to self-sustain the ones you chose, using the least amount of Ascension Points possible. 'Maximize Embodiments' gives you self-sustained builds that have the most amount of your chosen embodiments.";for(var x in String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,(function(t,r){return e[r]}))},y){var w=y[x];for(var C in w.rewardsPerPoint={},w.totalRequirements=0,w.rewards)w.rewardsPerPoint[C]=w.rewards[C]/w.nodes;for(var N in w.requirements)w.totalRequirements+=w.requirements[N]}var E=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"toggle",value:function(){this.props.app.state.selection.includes(this.props.data)?(this.props.app.updateSelection(this.props.data,null),this.props.data.isCoreNode||3==this.props.data.tier||this.props.app.updateExclusion(this.props.data,null)):this.props.app.state.excluded.includes(this.props.data)?this.props.app.updateExclusion(this.props.data,null):this.props.app.updateSelection(this.props.data,null)}},{key:"render",value:function(){var e=this,t="checkbox ",r="",a=void 0!=this.props.data.isCoreNode&&this.props.app.state.useFullCore?null:function(){return e.toggle()};return void 0!=this.props.data.isCoreNode&&this.props.app.state.useFullCore?(t+="chk-grey",r="\u2713"):this.props.app.state.selection.includes(this.props.data)?(t+="chk-green",r="\u2713"):this.props.app.state.excluded.includes(this.props.data)&&(t+="chk-red",r="\u2715"),s.a.createElement("div",{className:"unselectable "+t+" "+(this.props.darkMode?"dark-mode-checkbox":""),onClick:a},s.a.createElement("p",null,r))}}]),r}(s.a.Component),q=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t={force:this.props.app.state.minMaxEmbodiments.force,entropy:this.props.app.state.minMaxEmbodiments.entropy,form:this.props.app.state.minMaxEmbodiments.form,inertia:this.props.app.state.minMaxEmbodiments.inertia,life:this.props.app.state.minMaxEmbodiments.life};return t[this.props.type]=!this.props.app.state.minMaxEmbodiments[this.props.type],s.a.createElement("div",{className:"flexbox-horizontal"},s.a.createElement("input",{type:"checkbox",checked:this.props.app.state.minMaxEmbodiments[this.props.type],onChange:function(r){return e.props.app.setState({minMaxEmbodiments:t})}}),s.a.createElement("p",{className:this.props.app.state.darkMode?"dark-mode-text":""},this.props.text))}}]),r}(s.a.Component),M=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return s.a.createElement("div",{className:"embodiment "+this.props.type+(this.props.darkMode?" dark-mode-embodiment":" ")},s.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.amount))}}]),r}(s.a.Component),A=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"getRequirementsText",value:function(){var e=[];for(var t in this.props.data.requirements){var r,a=this.props.data.requirements[t],i=t,n=this.props.darkMode;r=s.a.createElement(M,{key:t,darkMode:n,type:i,amount:a}),e.push(r)}return e}},{key:"getRewards",value:function(){var e=[],t={force:0,entropy:0,form:0,inertia:0,life:0};for(var r in this.props.data.rewards){var a=this.props.data.rewards[r];t[r]=a}var i,n=3!=this.props.data.tier?"Completion rewards:":"";for(var o in t)0!=t[o]&&e.push(s.a.createElement("p",{key:this.props.data.name+"_tooltip_"+o},t[o]+" "+((i=o).charAt(0).toUpperCase()+i.slice(1))));return s.a.createElement("div",null,s.a.createElement("p",null,n),s.a.createElement("div",null,e))}},{key:"getTooltip",value:function(){var e=this.props.data.name,t=this.props.data.nodes,r=this.getRewards(),a=(this.props.data.nodes>1?" ({0} nodes)":" ({0} node)").format(t);return s.a.createElement("div",{className:"tooltip"},s.a.createElement("p",{className:"tooltip"},e+a,s.a.createElement("br",null)),r)}},{key:"render",value:function(){return s.a.createElement(v.a,{content:this.getTooltip(),placement:"bottom",duration:"0"},s.a.createElement("div",{className:"aspect unselectable"},s.a.createElement(E,{data:this.props.data,app:this.props.app,darkMode:this.props.darkMode}),s.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.data.name),s.a.createElement("div",{className:"embodiments-box"},this.getRequirementsText())))}}]),r}(s.a.Component);function S(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].nodes;return t}function O(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=e.concat().sort(),a=t.concat().sort(),s=0;s<r.length;s++)if(r[s]!==a[s])return!1;return!0}function B(e){var t=[],r=[];for(var a in e){var s=[];for(var i in e[a]){var n=e[a][i];s.push(n.name)}for(var o in s.sort(),t)O(t[o],s)&&r.push(parseInt(t.length));t.push(s)}return console.log(t),console.log(r),e.filter((function(e,t){return!r.includes(t)}))}function I(e){var t=[],r=[];for(var a in e){var s=[];for(var i in e[a].build){var n=e[a].build[i];s.push(n.name)}for(var o in s.sort(),t)O(t[o],s)&&r.push(parseInt(t.length));t.push(s)}return console.log(t),console.log(r),e.filter((function(e,t){return!r.includes(t)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={force:0,entropy:0,form:0,inertia:0,life:0};for(var a in e){var s=e[a];for(var i in s.requirements)s.requirements[i]>r[i]&&(r[i]=s.requirements[i])}if(t)for(var n in r)r[n]<=0&&delete r[n];return r}function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={force:0,entropy:0,form:0,inertia:0,life:0};for(var s in t&&(a.any=0),e){var i=e[s];for(var n in t&&2==i.tier&&a.any++,i.rewards)a[n]+=i.rewards[n]}if(r)for(var o in a)a[o]<=0&&delete a[o];return a}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){var r=F(e),a=j(t);for(var s in a)if(r[s]<a[s])return!1;return!0}r=F(e),a=j(e,!1,!0);for(var i in a)if(r[i]<a[i])return!1;return!0}function z(e,t){var r=j(t),a=F(e);for(var s in a)r[s]-=a[s],r[s]<0&&(r[s]=0);var i=[];for(var n in r)r[n]>0&&i.push(n);return i}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=j(e);for(var a in e){var s=e[a];for(var i in s.rewards)r[i]-=s.rewards[i]}if(t)for(var n in r)r[n]<1&&delete r[n];return r}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=j(t),s=F(e);for(var i in s)a[i]-=s[i],a[i]<0&&(a[i]=0);if(r)for(var n in a)a[n]<1&&delete a[n];return a}function R(e,t){for(var r in t)if(void 0!=e.rewards[r]&&e.rewards[r]>0)return!0;return!1}function T(e,t){for(var r in e)if(e[r].id==t.id)return!0;return!1}var H=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={selection:[],excluded:[],result:null,useFullCore:!1,considerDipping:!1,selfSustain:!0,preference:"0",iterations:4e3,maximumOutputs:10,resultIndex:0,darkMode:!1,mode:"fastest",minMaxEmbodiments:{force:!1,entropy:!1,form:!1,inertia:!1,life:!1},maxPoints:26},"true"==window.localStorage.getItem("darkMode")&&(a.state.darkMode=!0),a}return Object(u.a)(r,[{key:"changeIndex",value:function(e){var t=this.state.resultIndex;(t+=e)>this.state.result.bestBuilds.length-1?t=0:t<0&&(t=this.state.result.bestBuilds.length-1),this.setState({resultIndex:t})}},{key:"getMinMaxEmbodiments",value:function(){var e=[];for(var t in this.state.minMaxEmbodiments)this.state.minMaxEmbodiments[t]&&e.push(t);return e}},{key:"filterApplicableAspects",value:function(e){for(var t=[],r=[],a=0;a<this.state.excluded.length;a++)r.push(this.state.excluded[a].id);for(var s=0;s<e.length;s++){void 0!=(l=e[s]).isCoreNode&&this.state.useFullCore||t.push(l)}this.state.useFullCore&&t.push(y.core_full),e=t;var i={},n={force:0,entropy:0,form:0,inertia:0,life:0};for(var o in e){var l=e[o];n.force=l.requirements.force>n.force?l.requirements.force:n.force,n.entropy=l.requirements.entropy>n.entropy?l.requirements.entropy:n.entropy,n.form=l.requirements.form>n.form?l.requirements.form:n.form,n.inertia=l.requirements.inertia>n.inertia?l.requirements.inertia:n.inertia,n.life=l.requirements.life>n.life?l.requirements.life:n.life}function c(e,t){for(var a in e.rewards){var s=e.rewards[a];if(r.includes(e.id))return!1;if(e.dipping&&!this.state.considerDipping)return!1;if("core_full"==e.id&&!this.state.useFullCore)return!1;if(e.isCoreNode&&this.state.useFullCore)return!1;if(void 0!=e.generated&&0==t[e.extraEmbodimentType])return!1;if(s>0&&t[a]>0)return!0}return!1}for(var s in y){l=y[s];c.bind(this)(l,n)&&(i[s]=l)}for(var d in e)i.hasOwnProperty(e[d].id)||(i[e[d].id]=e[d]);var u;for(var m in i)i[m].totalRequirements>0&&(u=i[m]);for(var h={},p=0;p<e.length;p++){var f=e[p];void 0!=f.generated&&0==n[f.extraEmbodimentType]||void 0!=f.dipping||(h[p]=e[p])}return this.setState({waiting:!0}),{reqs:n,aspects:i,chosenAspects:h,aspectWithHighestRequirements:u}}},{key:"calculateShortestPath",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,r,a,s,i,n,o,c,d,u,m,h,p,v,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.filterApplicableAspects(this.state.selection)).chosenAspects=f.a.cloneDeep(t.chosenAspects),0!=Object.keys(t.chosenAspects).length){e.next=4;break}return e.abrupt("return");case 4:if(!(this.state.excluded.length>=6)){e.next=7;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=7;break}return e.abrupt("return");case 7:for(s in r=[],a=[],t.chosenAspects)r.push(t.chosenAspects[s]),a.push(t.chosenAspects[s]);for(i=[],n=function(e){c=[],d=0,u=0,m=[];var r=0,s=f.a.cloneDeep(a),n=f.a.cloneDeep(t.aspects),o=[];function l(e){(u+=e)>d&&(d=u)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=f.a.cloneDeep(e);null==t||(r.rewards={},r.rewards[t]=1,r.name+=" (partial, "+t+")"),r.nodes=2,r.fullAspect=e,o.push(r),c.push(r),m.push({aspect:r,role:p(e)?"goal":"removable"}),l(r.nodes),y(!0)}function p(e){for(var t in s)if(s[t].id==e.id)return!0;return!1}function v(e,t,r){var a=j(t.concat(e),!0),s=j(t,!0),i=F(e.filter((function(e){return e!=r})));for(var n in a)void 0==s[n]&&delete a[n];for(var o in a)if(i[o]<a[o])return!1;return!0}function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=m.slice();for(var r in t.reverse(),t)"removable"==t[r].role&&function(){var a=t[r].aspect;if((void 0==a.isCoreNode||e)&&(2!=a.tier||void 0!=a.fullAspect)){var i=F(c,!1,!0),n=j(s,!0),o=!1;for(var d in n)if(i[d]>n[d]){o=!0;break}if(o)if(2==a.tier){var u=c.filter((function(e){return e!=a&&e.name!=a.fullAspect.name+" (complete)"})),h=f.a.cloneDeep(a.fullAspect);for(var p in a.rewards)h.rewards[p]+=1;if(u.push(h),v(u,s,h)){var y,b;for(var g in m)m[g].aspect.name==a.fullAspect.name+" (complete)"&&(y=m[g].aspect,b=g);m[b].role="removable-removed",m.push({aspect:y,role:"remove"}),c=c.filter((function(e){return e.name!=y.name})),l(-a.nodes),m[t.length-1-r].role="removable-removed",m.push({aspect:a,role:"remove"}),c=c.filter((function(e){return e.name!=a.name})),l(-a.nodes),console.log(c)}}else v(c,s,a)&&(m[t.length-1-r].role="removable-removed",m.push({aspect:a,role:"remove"}),c=c.filter((function(e){return e.name!=a.name})),l(-a.nodes))}}()}for(var b=function(e){var t=!1;y(!1);var a=[];for(var v in o){var b=f.a.cloneDeep(o[v].fullAspect),g=p(b);b.nodes=b.nodes-2,b.name+=" (complete)",c.push(b),m.push({aspect:b,role:g?"goal":"removable"}),l(b.nodes),a.push(o[v]),y(!0),g&&r++}for(var k in o=o.filter((function(e){return!a.includes(e)})),s){var x=s[k];if(_(c,[x])&&!T(c,x)){if(2==x.tier){var w=j(s,!0);h(x,f.a.sample(Object.keys(w)))}else c.push(x),m.push({aspect:x,role:"goal"}),l(x.nodes),r++;t=!0}}if(m.length>25)return"break";if(!t){if(r==s.length){y(!0);var C={path:m,build:c,maxPoints:d,points:u};return i.push(C),"break"}var N=f.a.sample(n),E=P(c,s,!0),q=z(c,s);if(R(N,E)&&!T(c,N)&&_(c,[N]))if(2==N.tier){var M=f.a.sample(q);void 0!=M&&h(N,M)}else c.push(N),m.push({aspect:N,role:"removable"}),l(N.nodes)}},g=0;g<1e3;g++){if("break"===b())break}},o=0;o<this.state.iterations;o++)n();for(v in h=[],p=null,i)y=i[v].maxPoints,0==h.length?(h.push(i[v]),p=y):y<p?(h=[i[v]],p=y):y==p&&h.length<=this.state.maximumOutputs&&h.push(i[v]);console.log(h),console.log(p),0==h.length?console.log("No results found. Try again and/or increase the 'builds to try' setting."):this.setState({result:{bestBuilds:I(h),buildPoints:p,pointsNeeded:p}});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateV2",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,r,a,s,i,n,o,c,d,u,m,h,p,v,y,b,g,k,x,w,C,N,E,q,M,A,O,F,z,P,H,L,W,J,G,U;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.filterApplicableAspects(this.state.selection)).chosenAspects=f.a.cloneDeep(t.chosenAspects),0!=Object.keys(t.chosenAspects).length){e.next=4;break}return e.abrupt("return");case 4:if(!(this.state.excluded.length>=6)){e.next=7;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=7;break}return e.abrupt("return");case 7:for(s in r=j(t.chosenAspects),a=[],r)r[s]>0&&a.push(s);for(o in i=[],n=[],t.chosenAspects)i.push(t.chosenAspects[o]),n.push(t.chosenAspects[o]);c=[],console.log(t.aspects),d=0;case 16:if(!(d<this.state.iterations)){e.next=39;break}for(p in u=f.a.cloneDeep(n),m=f.a.cloneDeep(t.aspects),h=[],u)2==(v=u[p]).tier&&(y=f.a.sample(a),v.rewards[y]=void 0==v.rewards[y]?1:v.rewards[y]+1,v.name+=" (+"+y+")"),h.push(v);b=0;case 22:if(!(b<1e3)){e.next=36;break}if(!(h.length>=10)){e.next=25;break}return e.abrupt("break",36);case 25:if(g=D(h),!_(h)){e.next=31;break}return c.push(h),e.abrupt("break",36);case 31:R(k=f.a.sample(m),g)&&!T(h,k)&&(2==k.tier?void 0!=(x=f.a.sample(a))&&(k.rewards[x]=void 0==k.rewards[x]?1:k.rewards[x]+1,k.name+=" (+"+x+")",h.push(k)):h.push(k));case 33:b++,e.next=22;break;case 36:d++,e.next=16;break;case 39:for(N in w=[],C=null,c)E=c[N],q=S(E),0==w.length?(w.push(E),C=q):q<C?(w=[E],C=q):q==C&&w.length<=this.state.maximumOutputs&&w.push(E);console.log(w),console.log(C),M=[],A=null,e.t0=l.a.keys(w);case 47:if((e.t1=e.t0()).done){e.next=73;break}return e.t1.value,e.abrupt("break",73);case 56:if(!(F<this.state.iterations/3)){e.next=68;break}for(z in void 0)_(void 0,[P=(void 0)[z]])&&!T(void 0,P)&&(console.log("picked "+P.name+" (goal) because reqs were fulfilled"),(void 0).push(P),(void 0).push({aspect:P,role:T(t.chosenAspects,P)?"goal":"key"}),O++);if(O!==(void 0).length){e.next=62;break}return e.abrupt("break",68);case 62:H=f.a.sample(void 0),L=D(void 0,!0),R(H,r)&&!T(void 0,H)&&_(void 0,[H])&&(2==H.tier?void 0!=(W=f.a.sample(L))&&(H.rewards[W]=void 0==H.rewards[W]?1:H.rewards[W]+1,H.name+=" (+"+W+")",(void 0).push(H),(void 0).push({aspect:H,role:"removable"})):((void 0).push(H),(void 0).push({aspect:H,role:"removable"})));case 65:F++,e.next=56;break;case 68:for(J=0;J<(void 0).length;J++)"removable"==(void 0)[J].role&&(void 0).push({aspect:(void 0)[J].aspect,role:"remove"});G=S(void 0),0==M.length?(M.push(void 0),A=G):G<A?(M=[void 0],A=G):G==A&&M.push(void 0),e.next=47;break;case 73:M=I(M),w=B(w),U={bestBuilds:w,buildPoints:C,pointsNeeded:C},this.setState({result:U,resultIndex:0});case 77:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"minMaxEmbodiments",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,r,a,s,i,n,o,c,d,u,m,h,p,v,y,b,g,k,x,w,C,N,E,q,M,A,O,I,z,P,H,L;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.filterApplicableAspects(this.state.selection)).chosenAspects=f.a.cloneDeep(t.chosenAspects),0!=Object.keys(t.chosenAspects).length){e.next=4;break}return e.abrupt("return");case 4:r=!1,e.t0=l.a.keys(this.state.minMaxEmbodiments);case 6:if((e.t1=e.t0()).done){e.next=13;break}if(a=e.t1.value,1!=this.state.minMaxEmbodiments[a]){e.next=11;break}return r=!0,e.abrupt("break",13);case 11:e.next=6;break;case 13:if(r){e.next=16;break}return alert("You must choose at least 1 embodiment type that you want to pursue."),e.abrupt("return");case 16:if(!(this.state.excluded.length>=6)){e.next=19;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=19;break}return e.abrupt("return");case 19:for(n in s=j(t.chosenAspects),i=[],s)s[n]>0&&i.push(n);for(d in o=[],c=[],t.chosenAspects)o.push(t.chosenAspects[d]),c.push(t.chosenAspects[d]);u=[],console.log(t.aspects),m=0;case 28:if(!(m<this.state.iterations)){e.next=50;break}for(y in h=f.a.cloneDeep(c),p=f.a.cloneDeep(t.aspects),v=[],h)2==(b=h[y]).tier&&(g=f.a.sample(i),b.rewards[g]=void 0==b.rewards[g]?1:b.rewards[g]+1,b.name+=" (+"+g+")"),v.push(b);k=0;case 34:if(!(k<1e3)){e.next=47;break}if(x=D(v),_(v))for(C in x={},w=this.getMinMaxEmbodiments())x[w[C]]=9999;if(!(_(v)&&S(v)>=this.state.maxPoints-2)){e.next=42;break}return S(v)<=this.state.maxPoints&&u.push(v),e.abrupt("break",47);case 42:R(N=f.a.sample(p),x)&&!T(v,N)&&(2==N.tier?void 0!=(E=f.a.sample(i))&&(N.rewards[E]=void 0==N.rewards[E]?1:N.rewards[E]+1,N.name+=" (+"+E+")",v.push(N)):v.push(N));case 44:k++,e.next=34;break;case 47:m++,e.next=28;break;case 50:for(A in q=[],M=null,u){for(H in O=u[A],I=0,z=this.getMinMaxEmbodiments(),P=F(O),z)I+=P[z[H]];0==q.length?(q.push(O),M=I):I>M?(q=[O],M=I):I==M&&q.length<=this.state.maximumOutputs&&q.push(O)}console.log(q),console.log(M),q=B(q),L={bestBuilds:q,bestScore:M},this.setState({result:L,resultIndex:0});case 58:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSelection",value:function(e,t){var r=this.state.selection.slice();r.includes(e)?r=r.filter((function(t){return t!=e})):r.push(e),this.setState({selection:r})}},{key:"updateExclusion",value:function(e,t){var r=this.state.excluded.slice();r.includes(e)?r=r.filter((function(t){return t!=e})):r.push(e),this.setState({excluded:r})}},{key:"run",value:function(){switch(this.state.mode){case"fastest":this.calculateShortestPath();break;case"self-sustain":this.calculateV2();break;case"minmax-embodiments":this.minMaxEmbodiments()}}},{key:"renderResults",value:function(){var e=this;if(null==this.state.result)return null;var t=[];if("fastest"==this.state.mode){var r=(this.state.result.bestBuilds.length>1?"{0} paths found":"{0} path found").format(this.state.result.bestBuilds.length)+" ({0} points needed, {1} to sustain)".format(this.state.result.bestBuilds[this.state.resultIndex].maxPoints,this.state.result.bestBuilds[this.state.resultIndex].points),a=s.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,s.a.createElement("p",{className:this.textClass},r),this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null),i=this.state.result.bestBuilds[this.state.resultIndex].path,n=this.state.darkMode?"-dark-mode":"";for(var o in i){var l=i[o];switch(l.role){case"goal":t.push(s.a.createElement("p",{className:"result-goal"+n,key:o},l.aspect.name));break;case"removable-removed":case"removable":t.push(s.a.createElement("p",{className:"result-removable"+n,key:o},l.aspect.name));break;case"remove":t.push(s.a.createElement("p",{className:"result-removable"+n,key:o},"\u274c "+l.aspect.name));break;case"key":t.push(s.a.createElement("p",{className:"result-key"+n,key:o},l.aspect.name))}o!=i.length-1&&t.push(s.a.createElement("p",{className:"result-arrow"+n,key:-o-1}," -> "))}return s.a.createElement("div",null,s.a.createElement("div",null,a),s.a.createElement("div",{className:"flexbox-horizontal"},t))}if("self-sustain"==this.state.mode){var c=(this.state.result.bestBuilds.length>1?"{0} builds found":"{0} build found").format(this.state.result.bestBuilds.length)+" ({0} points to sustain)".format(this.state.result.buildPoints),d=[],u=(a=s.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,s.a.createElement("p",{className:this.textClass},c),this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null),this.state.result.bestBuilds[this.state.resultIndex]);for(var m in u)d.push(s.a.createElement("p",{className:this.textClass+" result-goal"},u[m].name)),m!=u.length-1&&d.push(s.a.createElement("p",{className:this.textClass,style:{marginRight:"5px"}},", "));return s.a.createElement("div",null,a,s.a.createElement("div",{className:"flexbox-horizontal"},d),s.a.createElement("div",{className:"flexbox-horizontal"},t))}if("minmax-embodiments"==this.state.mode){var h=(this.state.result.bestBuilds.length>1?"{0} builds found:":"{0} build found:").format(this.state.result.bestBuilds.length),p=this.state.result.bestBuilds[this.state.resultIndex],f=F(p),v={};for(var y in this.state.minMaxEmbodiments)this.state.minMaxEmbodiments[y]&&(v[y]=f[y]);var b=[];for(var g in v)b.push(s.a.createElement(M,{type:g,darkMode:this.state.darkMode,amount:v[g]}));var k=[];a=s.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,s.a.createElement("p",{className:this.textClass},h),b,this.state.result.bestBuilds.length>1?s.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null);for(var x in p)k.push(s.a.createElement("p",{className:this.textClass+" result-goal"},p[x].name)),x!=p.length-1&&k.push(s.a.createElement("p",{className:this.textClass,style:{marginRight:"5px"}},", "));return s.a.createElement("div",null,s.a.createElement("div",{className:"flexbox-horizontal"},a),s.a.createElement("div",{className:"flexbox-horizontal"},k),s.a.createElement("div",{className:"flexbox-horizontal"},t))}}},{key:"render",value:function(){var e=this,t=[],r=[],a=[],i=[],n=[];this.state.darkMode?document.getElementsByTagName("body")[0].classList="dark-bg":document.getElementsByTagName("body")[0].classList="";var o=null;for(var l in"minmax-embodiments"==this.state.mode&&(o=s.a.createElement("div",{className:"flexbox-horizontal"},s.a.createElement(q,{app:this,type:"force",text:"Force"}),s.a.createElement(q,{app:this,type:"entropy",text:"Entropy"}),s.a.createElement(q,{app:this,type:"form",text:"Form"}),s.a.createElement(q,{app:this,type:"inertia",text:"Inertia"}),s.a.createElement(q,{app:this,type:"life",text:"Life"}))),y){var c,d=y[l],u=s.a.createElement(A,{darkMode:this.state.darkMode,data:d,key:l,clickCallback:this.updateSelection.bind(this),app:this}),m=s.a.createElement("hr",{key:l+"_hr"});if(void 0==d.generated)switch(d.family){case"force":c=t;break;case"entropy":c=r;break;case"form":c=a;break;case"inertia":c=i;break;case"life":c=n}if(void 0!=c){void 0!=c&&void 0==c.generated&&c.push(u);["core_force","serpent","tiger","core_entropy","wolf","supplicant","core_form","silkworm","wealth","core_inertia","guardsman","rhinoceros","core_life","rabbit","stag"].includes(d.id)&&void 0==c.generated&&c.push(m)}}var h=null;if(this.state.selection.length>0||this.state.useFullCore){var p=this.state.selection.slice();this.state.useFullCore&&(p.push(y.core_full),p=p.filter((function(e){return void 0==e.isCoreNode})));var f=j(p,!0),x=F(p,!0,!0),w=S(p),C=[],N=[],E=s.a.createElement("p",{className:this.textClass,style:{marginLeft:"0px"}},", nodes: {0}".format(w)),O=0;for(var B in f)C.push(s.a.createElement(M,{key:O,type:B,amount:f[B],darkMode:this.state.darkMode})),O++;for(var I in 0==C.length&&C.push(s.a.createElement("p",{className:this.textClass,style:{marginLeft:"5px"}},"none")),x)"any"==I?N.push(s.a.createElement("p",{key:O,className:this.textClass},", {0} any".format(x[I]))):N.push(s.a.createElement(M,{key:O,type:I,amount:x[I],darkMode:this.state.darkMode})),O++;0==N.length&&N.push(s.a.createElement("p",{className:this.textClass,style:{marginLeft:"5px"}},"none.")),h=s.a.createElement("div",{className:"flexbox-horizontal"},s.a.createElement("p",{className:this.textClass},"Requirements of chosen aspects: "),C,s.a.createElement("p",{className:this.textClass},", rewards:"),N,E)}var _=this.renderResults();return s.a.createElement("div",null,s.a.createElement("div",{className:"table"},s.a.createElement("div",{className:"aspect-column"},t),s.a.createElement("div",{className:"aspect-column"},r),s.a.createElement("div",{className:"aspect-column"},a),s.a.createElement("div",{className:"aspect-column"},i),s.a.createElement("div",{className:"aspect-column"},n)),s.a.createElement("div",{className:"bottom-interface"},s.a.createElement(v.a,{content:b,placement:"bottom",duration:"0"},s.a.createElement("div",{className:"num-input"},s.a.createElement("p",{className:this.textClass},"Builds to try:"),s.a.createElement("input",{type:"val",value:this.state.iterations,onChange:function(t){return e.setState({iterations:t.target.value})}}))),s.a.createElement(v.a,{content:g,placement:"bottom",duration:"0"},s.a.createElement("div",{className:"checkbox-bottom-ui"},s.a.createElement("input",{type:"checkbox",checked:this.state.useFullCore,onChange:function(t){return e.setState({useFullCore:t.target.checked})}}),s.a.createElement("p",{className:this.textClass},"Use a full Core"))),s.a.createElement(v.a,{content:"Change the UI to be dark. This setting persists even if you refresh the page.",placement:"bottom",duration:"0"},s.a.createElement("div",{className:"checkbox-bottom-ui"},s.a.createElement("input",{type:"checkbox",checked:this.state.darkMode,onChange:function(t){e.setState({darkMode:t.target.checked}),window.localStorage.setItem("darkMode",t.target.checked)}}),s.a.createElement("p",{className:this.textClass},"Dark mode"))),s.a.createElement(v.a,{content:k,placement:"bottom",duration:"0"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{onChange:function(t){return e.setState({mode:t.target.value,result:null})}},s.a.createElement("option",{value:"fastest"},"Find shortest paths"),s.a.createElement("option",{value:"self-sustain"},"Find self-sustainable builds"),s.a.createElement("option",{value:"minmax-embodiments"},"Maximize Embodiments"))))),s.a.createElement("div",{className:"bottom-interface column"},h,o,s.a.createElement("button",{onClick:function(){return e.run()}},"self-sustain"==this.state.mode?"Find self-sustained builds":"fastest"==this.state.mode?"Find shortest paths":"Find builds"),_),s.a.createElement("div",{className:"source-code-link"},s.a.createElement("a",{href:"https://github.com/PinewoodPip/ee2calc"},"Source code")))}},{key:"textClass",get:function(){return this.state.darkMode?"dark-mode-text":""}},{key:"checkboxClass",get:function(){return this.state.darkMode?"dark-mode-checkbox":""}}]),r}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.0dd62234.chunk.js.map