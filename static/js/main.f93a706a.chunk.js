(this.webpackJsonpee2calc=this.webpackJsonpee2calc||[]).push([[0],{13:function(e,r,t){e.exports=t(23)},18:function(e,r,t){},20:function(e,r,t){},23:function(e,r,t){"use strict";t.r(r);var a=t(0),i=t.n(a),n=t(9),s=t.n(n),o=(t(18),t(2)),c=t.n(o),l=t(10),d=t(4),m=t(5),u=t(8),f=t(7),h=(t(20),t(1)),p=t.n(h),y=t(6),v=(t(22),{core_full:{name:"Core (Full)",id:"core_full",family:"special",tier:1,requirements:{},rewards:{force:2,entropy:2,form:2,inertia:2,life:2},nodes:5,hasChoiceNode:!1},core_force:{name:"Core (Force)",id:"core_force",family:"force",tier:1,requirements:{},rewards:{force:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},falcon:{name:"Falcon",id:"falcon",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:2},nodes:5,hasChoiceNode:!1},hatchet:{name:"Hatchet",id:"hatchet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:2},nodes:5,hasChoiceNode:!1},hornet:{name:"Hornet",id:"hornet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:1},nodes:3,hasChoiceNode:!1},serpent:{name:"Serpent",id:"serpent",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:1},nodes:3,hasChoiceNode:!1},arcanist:{name:"Arcanist",id:"arcanist",family:"force",tier:2,requirements:{force:5,life:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},archer:{name:"Archer",id:"archer",family:"force",tier:2,requirements:{force:3,entropy:2,life:1},rewards:{force:2,entropy:1},nodes:5,hasChoiceNode:!0},manticore:{name:"Manticore",id:"manticore",family:"force",tier:2,requirements:{force:5,entropy:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},scorpion:{name:"Scorpion",id:"scorpion",family:"force",tier:2,requirements:{force:4,entropy:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},tiger:{name:"Tiger",id:"tiger",family:"force",tier:2,requirements:{force:4,life:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},conqueror:{name:"Conqueror",id:"conqueror",family:"force",tier:3,requirements:{force:7,entropy:1,life:5},rewards:{},nodes:5,hasChoiceNode:!1},kraken:{name:"Kraken",id:"kraken",family:"force",tier:3,requirements:{force:7,entropy:5,life:1},rewards:{},nodes:5,hasChoiceNode:!1},wrath:{name:"Wrath",id:"wrath",family:"force",tier:3,requirements:{force:8,entropy:3,life:2},rewards:{},nodes:5,hasChoiceNode:!1},core_entropy:{name:"Core (Entropy)",id:"core_entropy",family:"entropy",tier:1,requirements:{},rewards:{entropy:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},crow:{name:"Crow",id:"crow",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:1},nodes:3,hasChoiceNode:!1},fly:{name:"Fly",id:"fly",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:2},nodes:5,hasChoiceNode:!1},vulture:{name:"Vulture",id:"vulture",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:2},nodes:5,hasChoiceNode:!1},wolf:{name:"Wolf",id:"wolf",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:1},nodes:3,hasChoiceNode:!1},blood_ape:{name:"Blood Ape",id:"blood_ape",family:"entropy",tier:2,requirements:{entropy:3,force:1,form:2},rewards:{entropy:2,form:1},nodes:5,hasChoiceNode:!0},extinction:{name:"Extinction",id:"extinction",family:"entropy",tier:2,requirements:{entropy:4,force:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},imp:{name:"Imp",id:"imp",family:"entropy",tier:2,requirements:{entropy:5,form:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},hyena:{name:"Hyena",id:"hyena",family:"entropy",tier:2,requirements:{entropy:5,force:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},supplicant:{name:"Supplicant",id:"supplicant",family:"entropy",tier:2,requirements:{entropy:4,form:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},death:{name:"Death",id:"death",family:"entropy",tier:3,requirements:{entropy:8,force:2,form:3},rewards:{},nodes:5,hasChoiceNode:!1},decay:{name:"Decay",id:"decay",family:"entropy",tier:3,requirements:{entropy:7,force:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},demilich:{name:"Demilich",id:"demilich",family:"entropy",tier:3,requirements:{entropy:7,force:1,form:5},rewards:{},nodes:6,hasChoiceNode:!1},core_form:{name:"Core (Form)",id:"core_form",family:"form",tier:1,requirements:{},rewards:{form:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},chalice:{name:"Chalice",id:"chalice",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:2},nodes:5,hasChoiceNode:!1},key:{name:"Key",id:"key",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:2},nodes:5,hasChoiceNode:!1},nautilus:{name:"Nautilus",id:"nautilus",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:1},nodes:3,hasChoiceNode:!1},silkworm:{name:"Silkworm",id:"silkworm",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:1},nodes:3,hasChoiceNode:!1},basilisk:{name:"Basilisk",id:"basilisk",family:"form",tier:2,requirements:{form:4,entropy:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},doppelganger:{name:"Doppelganger",id:"doppelganger",family:"form",tier:2,requirements:{form:5,entropy:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},dragon:{name:"Dragon",id:"dragon",family:"form",tier:2,requirements:{form:5,inertia:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},gryphon:{name:"Gryphon",id:"gryphon",family:"form",tier:2,requirements:{form:4,inertia:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},wealth:{name:"Wealth",id:"wealth",family:"form",tier:2,requirements:{form:3,inertia:2,entropy:1},rewards:{form:2,inertia:1},nodes:5,hasChoiceNode:!0},cerberus:{name:"Cerberus",id:"cerberus",family:"form",tier:3,requirements:{form:7,inertia:5,entropy:1},rewards:{},nodes:5,hasChoiceNode:!1},ritual:{name:"Ritual",id:"ritual",family:"form",tier:3,requirements:{form:7,inertia:1,entropy:5},rewards:{},nodes:5,hasChoiceNode:!1},sphinx:{name:"Sphinx",id:"sphinx",family:"form",tier:3,requirements:{form:8,inertia:3,entropy:2},rewards:{},nodes:5,hasChoiceNode:!1},core_inertia:{name:"Core (Inertia)",id:"core_inertia",family:"inertia",tier:1,requirements:{},rewards:{inertia:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},armadillo:{name:"Armadillo",id:"armadillo",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:1},nodes:3,hasChoiceNode:!1},auroch:{name:"Auroch",id:"auroch",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:1},nodes:3,hasChoiceNode:!1},crab:{name:"Crab",id:"crab",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:2},nodes:5,hasChoiceNode:!1},guardsman:{name:"Guardsman",id:"guardsman",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:2},nodes:5,hasChoiceNode:!1},casque:{name:"Casque",id:"casque",family:"inertia",tier:2,requirements:{inertia:5,life:1},rewards:{inertia:3},nodes:5,hasChoiceNode:!0},centurion:{name:"Centurion",id:"centurion",family:"inertia",tier:2,requirements:{inertia:3,form:1,life:2},rewards:{inertia:2,life:1},nodes:5,hasChoiceNode:!0},gladiator:{name:"Gladiator",id:"gladiator",family:"inertia",tier:2,requirements:{inertia:3,form:3},rewards:{inertia:2,form:1},nodes:5,hasChoiceNode:!0},hippopotamus:{name:"Hippopotamus",id:"hippopotamus",family:"inertia",tier:2,requirements:{inertia:4,life:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},rhinoceros:{name:"Rhinoceros",id:"rhinoceros",family:"inertia",tier:2,requirements:{inertia:4,form:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},arena:{name:"Arena",id:"arena",family:"inertia",tier:3,requirements:{inertia:7,life:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},champion:{name:"Champion",id:"champion",family:"inertia",tier:3,requirements:{inertia:8,life:3,form:2},rewards:{},nodes:5,hasChoiceNode:!1},fortress:{name:"Fortress",id:"fortress",family:"inertia",tier:3,requirements:{inertia:7,life:1,form:5},rewards:{},nodes:5,hasChoiceNode:!1},core_life:{name:"Core (Life)",id:"core_life",family:"life",tier:1,requirements:{},rewards:{life:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},beetle:{name:"Beetle",id:"beetle",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:1},nodes:3,hasChoiceNode:!1},hind:{name:"Hind",id:"hind",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:2},nodes:5,hasChoiceNode:!1},lizard:{name:"Lizard",id:"lizard",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:1},nodes:3,hasChoiceNode:!1},rabbit:{name:"Rabbit",id:"rabbit",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:2},nodes:5,hasChoiceNode:!1},enchantress:{name:"Enchantress",id:"enchantress",family:"life",tier:2,requirements:{life:5,force:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},huntress:{name:"Huntress",id:"huntress",family:"life",tier:2,requirements:{life:3,force:2,inertia:1},rewards:{life:2,force:1},nodes:5,hasChoiceNode:!0},nymph:{name:"Nymph",id:"nymph",family:"life",tier:2,requirements:{life:5,inertia:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},pegasus:{name:"Pegasus",id:"pegasus",family:"life",tier:2,requirements:{life:4,inertia:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},stag:{name:"Stag",id:"stag",family:"life",tier:2,requirements:{life:4,force:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},goddess:{name:"Goddess",id:"goddess",family:"life",tier:3,requirements:{life:7,inertia:5,force:1},rewards:{},nodes:5,hasChoiceNode:!1},hope:{name:"Hope",id:"hope",family:"life",tier:3,requirements:{life:7,inertia:1,force:5},rewards:{},nodes:5,hasChoiceNode:!1},splendor:{name:"Splendor",id:"splendor",family:"life",tier:3,requirements:{life:8,inertia:2,force:3},rewards:{},nodes:5,hasChoiceNode:!1}}),b=(t(24),"How many builds should be randomly generated. With higher amounts the search takes longer but is more likely to find the most efficient build. Keep this in the thousands, and increase it when you're doing crazy searches (3+ aspects chosen, multiple T3s, stuff like that)."),k="Use a full Core instead of its lone nodes. A full Core grants 2 of each embodiment for 5 points.";String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,(function(r,t){return e[t]}))};var w={};for(var g in w)v[g]=w[g];for(var g in v){var N=v[g];for(var C in N.rewardsPerPoint={},N.totalRequirements=0,N.rewards)N.rewardsPerPoint[C]=N.rewards[C]/N.nodes;for(var q in N.requirements)N.totalRequirements+=N.requirements[q]}var x=function(e){Object(u.a)(t,e);var r=Object(f.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(m.a)(t,[{key:"toggle",value:function(e,r){this.props.app.state.selection.includes(this.props.data)?(this.props.app.updateSelection(this.props.data,null),this.props.data.isCoreNode||3==this.props.data.tier||this.props.app.updateExclusion(this.props.data,null)):this.props.app.state.excluded.includes(this.props.data)?this.props.app.updateExclusion(this.props.data,null):this.props.app.updateSelection(this.props.data,null)}},{key:"render",value:function(){var e=this,r="checkbox ",t="";return this.props.app.state.selection.includes(this.props.data)?(r+="chk-green",t="\u2713"):this.props.app.state.excluded.includes(this.props.data)&&(r+="chk-red",t="\u2715"),i.a.createElement("div",{className:"unselectable "+r+" "+(this.props.darkMode?"dark-mode-checkbox":""),onClick:function(){return e.toggle()}},i.a.createElement("p",null,t))}}]),t}(i.a.Component),E=function(e){Object(u.a)(t,e);var r=Object(f.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"embodiment "+this.props.type+(this.props.darkMode?" dark-mode-embodiment":" ")},i.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.amount))}}]),t}(i.a.Component),A=function(e){Object(u.a)(t,e);var r=Object(f.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(m.a)(t,[{key:"getRequirementsText",value:function(){var e=[];for(var r in this.props.data.requirements){var t,a=this.props.data.requirements[r],n=r,s=this.props.darkMode;t=i.a.createElement(E,{key:r,darkMode:s,type:n,amount:a}),e.push(t)}return e}},{key:"getRewards",value:function(){var e=[],r={force:0,entropy:0,form:0,inertia:0,life:0};for(var t in this.props.data.rewards){var a=this.props.data.rewards[t];r[t]=a}var n,s=3!=this.props.data.tier?"Completion rewards:":"";for(var o in r)0!=r[o]&&e.push(i.a.createElement("p",{key:this.props.data.name+"_tooltip_"+o},r[o]+" "+((n=o).charAt(0).toUpperCase()+n.slice(1))));return i.a.createElement("div",null,i.a.createElement("p",null,s),i.a.createElement("div",null,e))}},{key:"getTooltip",value:function(){var e=this.props.data.name,r=this.props.data.nodes,t=this.getRewards(),a=(this.props.data.nodes>1?" ({0} nodes)":" ({0} node)").format(r);return i.a.createElement("div",{className:"tooltip"},i.a.createElement("p",{className:"tooltip"},e+a,i.a.createElement("br",null)),t)}},{key:"render",value:function(){return i.a.createElement(y.a,{content:this.getTooltip(),placement:"bottom",duration:"0"},i.a.createElement("div",{className:"aspect unselectable"},i.a.createElement(x,{data:this.props.data,app:this.props.app,darkMode:this.props.darkMode}),i.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.data.name),i.a.createElement("div",{className:"embodiments-box"},this.getRequirementsText())))}}]),t}(i.a.Component);function S(e){for(var r,t,a=e.length;0!==a;)t=Math.floor(Math.random()*a),r=e[a-=1],e[a]=e[t],e[t]=r;return e}function M(e,r){for(var t in r)if(r[t]==e)return!0;return!1}function O(e){for(var r=0,t=0;t<e.length;t++)r+=e[t].nodes;return r}function _(e,r){for(var t=[],a=0;a<e.length;a++){var i=e[a];t.push({aspect:i,operation:"add"})}for(var n in r)t.splice(r[n].time,0,{aspect:r[n].aspect,operation:"remove"});return console.log(t),t}function P(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t={force:0,entropy:0,form:0,inertia:0,life:0};for(var a in e){var i=e[a];for(var n in i.requirements)i.requirements[n]>t[n]&&(t[n]=i.requirements[n])}if(r)for(var s in t)t[s]<=0&&delete t[s];return t}function j(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={force:0,entropy:0,form:0,inertia:0,life:0};for(var i in r&&(a.any=0),e){var n=e[i];for(var s in r&&2==n.tier&&a.any++,n.rewards)a[s]+=n.rewards[s]}if(t)for(var o in a)a[o]<=0&&delete a[o];return a}function I(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r){var t=j(e),a=P(r);for(var i in a)if(t[i]<a[i])return!1;return!0}t=j(e),a=P(e);for(var i in a)if(t[i]<a[i])return!1;return!0}function B(e,r){for(var t=0;t<e.length;t++)if(e[t].id==r.id)return!0;return!1}var R=function(e){Object(u.a)(t,e);var r=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=r.call(this,e)).state={selection:[],excluded:[],result:null,waiting:!1,useFullCore:!1,considerDipping:!1,selfSustain:!0,pointsBudget:26,preference:"0",iterations:3e4,maximumOutputs:10,resultIndex:0,darkMode:!1},"true"==window.localStorage.getItem("darkMode")&&(a.state.darkMode=!0),a}return Object(m.a)(t,[{key:"changeIndex",value:function(e){var r=this.state.resultIndex;(r+=e)>this.state.result.bestPaths.length-1?r=0:r<0&&(r=this.state.result.bestPaths.length-1),this.setState({resultIndex:r})}},{key:"filterApplicableAspects",value:function(e){for(var r=[],t=[],a=0;a<this.state.excluded.length;a++)t.push(this.state.excluded[a].id);for(var i=0;i<e.length;i++){var n=e[i];r.push(n)}this.state.useFullCore&&r.push(v.core_full),e=r;var s={},o={force:0,entropy:0,form:0,inertia:0,life:0};function c(e,r){for(var a in e.rewards){var i=e.rewards[a];if(t.includes(e.id))return!1;if(e.dipping&&!this.state.considerDipping)return!1;if("core_full"==e.id&&!this.state.useFullCore)return!1;if(e.isCoreNode&&this.state.useFullCore)return!1;if(void 0!=e.generated&&0==r[e.extraEmbodimentType])return!1;if(i>0&&r[a]>0)return!0}return!1}for(var l in e){n=e[l];o.force=n.requirements.force>o.force?n.requirements.force:o.force,o.entropy=n.requirements.entropy>o.entropy?n.requirements.entropy:o.entropy,o.form=n.requirements.form>o.form?n.requirements.form:o.form,o.inertia=n.requirements.inertia>o.inertia?n.requirements.inertia:o.inertia,o.life=n.requirements.life>o.life?n.requirements.life:o.life}for(var i in v){n=v[i];c.bind(this)(n,o)&&(s[i]=n)}for(var d in e)s.hasOwnProperty(e[d].id)||(s[e[d].id]=e[d]);var m;for(var u in s)s[u].totalRequirements>0&&(m=s[u]);for(var f={},h=0;h<e.length;h++){var p=e[h];void 0!=p.generated&&0==o[p.extraEmbodimentType]||void 0!=p.dipping||(f[h]=e[h])}return this.setState({waiting:!0}),{reqs:o,aspects:s,chosenAspects:f,aspectWithHighestRequirements:m}}},{key:"calculateV2",value:function(){var e=Object(l.a)(c.a.mark((function e(){var r,t,a,i,n,s,o,l,d,m,u,f,h,y,v,b,k,w,g,N,C,q,x,E,A,S,M,_,j,B,R,D,F,T,z,H,W,G,J,L,U,K,V,Y,$,Q,X,Z,ee,re,te,ae,ie;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,r){for(var t in e)if(e[t].id==r.id)return!0;return!1},m=function(e,r){for(var t in r)if(void 0!=e.rewards[t]&&e.rewards[t]>0)return!0;return!1},d=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=P(e);for(var a in e){var i=e[a];for(var n in i.rewards)t[n]-=i.rewards[n]}if(r)for(var s in t)t[s]<1&&delete t[s];return t},(r=this.filterApplicableAspects(this.state.selection)).chosenAspects=p.a.cloneDeep(r.chosenAspects),console.log(r.chosenAspects),0!=Object.keys(r.chosenAspects).length){e.next=8;break}return e.abrupt("return");case 8:if(!(this.state.excluded.length>=6)){e.next=11;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=11;break}return e.abrupt("return");case 11:for(i in t=P(r.chosenAspects),a=[],t)t[i]>0&&a.push(i);for(o in n=[],s=[],r.chosenAspects)n.push(r.chosenAspects[o]),s.push(r.chosenAspects[o]);for(h in l=[],f=[],r.aspects)1==r.aspects[h].tier&&f.push(r.aspects[h]);console.log(r.aspects),y=0;case 22:if(!(y<this.state.iterations)){e.next=45;break}for(w in v=p.a.cloneDeep(s),b=p.a.cloneDeep(r.aspects),k=[],v)2==(g=v[w]).tier&&(N=p.a.sample(a),g.rewards[N]=void 0==g.rewards[N]?1:g.rewards[N]+1,g.name+=" (+"+N+")"),k.push(g);C=0;case 28:if(!(C<1e3)){e.next=42;break}if(!(k.length>=10)){e.next=31;break}return e.abrupt("break",42);case 31:if(q=d(k),!I(k)){e.next=37;break}return l.push(k),e.abrupt("break",42);case 37:x=p.a.sample(b),m(x,q)&&!u(k,x)&&(2==x.tier?void 0!=(E=p.a.sample(a))&&(x.rewards[E]=void 0==x.rewards[E]?1:x.rewards[E]+1,x.name+=" (+"+E+")",k.push(x)):k.push(x));case 39:C++,e.next=28;break;case 42:y++,e.next=22;break;case 45:for(M in A=[],S=null,l)_=l[M],j=O(_),0==A.length?(A.push(_),S=j):j<S?(A=[_],S=j):j==S&&A.length<=this.state.maximumOutputs&&A.push(_);console.log(A),console.log(S),B=[],R=null,e.t0=c.a.keys(A);case 53:if((e.t1=e.t0()).done){e.next=78;break}D=e.t1.value,F=A[D],T=p.a.cloneDeep(r.aspects),z=[],H=[],W=0,G=0;case 61:if(!(G<this.state.iterations/3)){e.next=73;break}for(J in F)L=F[J],I(H,[L])&&!u(H,L)&&(console.log("picked "+L.name+" (goal) because reqs were fulfilled"),H.push(L),z.push({aspect:L,role:u(r.chosenAspects,L)?"goal":"key"}),W++);if(W!==F.length){e.next=67;break}return e.abrupt("break",73);case 67:U=p.a.sample(T),K=d(F,!0),m(U,t)&&!u(H,U)&&I(H,[U])&&(2==U.tier?void 0!=(V=p.a.sample(K))&&(U.rewards[V]=void 0==U.rewards[V]?1:U.rewards[V]+1,U.name+=" (+"+V+")",H.push(U),z.push({aspect:U,role:"removable"})):(H.push(U),z.push({aspect:U,role:"removable"})));case 70:G++,e.next=61;break;case 73:for(Y=0;Y<z.length;Y++)"removable"==z[Y].role&&z.push({aspect:z[Y].aspect,role:"remove"});$=O(H),0==B.length?(B.push(z),R=$):$<R?(B=[z],R=$):$==R&&B.push(z),e.next=53;break;case 78:for(Z in Q=[],X=[],B){for(re in ee=[],B[Z])te=B[Z][re].aspect,ee.push(te.id);if(ee.sort(),0==Q.length)Q.push(ee);else for(ae in Q)Q[ae]==ee?Q.push(ee):X.push(B[Z])}B=B.filter((function(e){return!X.includes(e)})),console.log("Paths:"),console.log(B),ie={bestBuilds:A,buildPoints:S,selfSustainPoints:S,bestPaths:B,pathPoints:R},this.setState({result:ie,resultIndex:0});case 86:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculate",value:function(){var e=Object(l.a)(c.a.mark((function e(){var r,t,a,i,n,s,o,l,d,m,u,f,h,y,v,b,k,w,g,N,C,q,x,E,A,P,R;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.filterApplicableAspects(this.state.selection),console.log(r.chosenAspects),!(this.state.excluded.length>=6)){e.next=5;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=5;break}return e.abrupt("return");case 5:if(0!=Object.keys(r.chosenAspects).length){e.next=7;break}return e.abrupt("return");case 7:a=0;case 8:if(!(a<this.state.iterations)){e.next=57;break}for(s in i=r.aspects,n=[],r.chosenAspects)n.push(r.chosenAspects[s]);for(d in S(n),o=[],l={},i)l[d]=i[d];m=0;case 17:if(!(m<2e3)){e.next=53;break}u=p.a.sample(l),f=!1,h=!1,e.t0=c.a.keys(n);case 22:if((e.t1=e.t0()).done){e.next=34;break}if(y=e.t1.value,!h){e.next=26;break}return e.abrupt("break",34);case 26:if(v=n[y],!I(o,{chosenAspect:v})||B(o,v)){e.next=32;break}if(o.push(v),f=!0,2==v.tier){for(k in b=[],n)(w=n[k]).id==v.id&&w!=v||b.push(w);n=b,h=!0}return e.abrupt("break",34);case 32:e.next=22;break;case 34:f||I(o,{aspect:u})&&!B(o,u)&&o.push(u),g=!1,e.t2=c.a.keys(n);case 37:if((e.t3=e.t2()).done){e.next=45;break}if(N=e.t3.value,o.includes(n[N])){e.next=42;break}return g=!1,e.abrupt("break",45);case 42:g=!0,e.next=37;break;case 45:if(C=[],q=o,g&&this.state.selfSustain)for(s=o.length;s>=0;s--)if(w=o[s],null,!M(w,r.chosenAspects))for(x=q.filter((function(e){return e!=w})),k=o.length;k>=0;k--)I(x)&&q.includes(w)&&(C.push({aspect:w,time:k}),q=q.filter((function(e){return e!=w})));if(!g){e.next=50;break}return e.abrupt("break",53);case 50:m++,e.next=17;break;case 53:0!=o.length&&(console.log(o),E=_(o,C),A=O(o),P=O(q),R={aspects:o,aspectsToRemove:C,pathOperationOrder:E,points:A,finalCost:P,score:A+P+("0"==this.state.preference?0:o.length),totalEmbodiments:j(o)},(void 0==t||R.score<t.score&&R.points<=this.state.pointsBudget)&&(t=R));case 54:a++,e.next=8;break;case 57:console.log("--- Best Build ---"),console.log(t),this.setState({result:t,waiting:!1});case 60:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSelection",value:function(e,r){var t=this.state.selection.slice();t.includes(e)?t=t.filter((function(r,t,a){return r!=e})):t.push(e),this.setState({selection:t})}},{key:"updateExclusion",value:function(e,r){var t=this.state.excluded.slice();t.includes(e)?t=t.filter((function(r,t,a){return r!=e})):t.push(e),this.setState({excluded:t})}},{key:"render",value:function(){var e=this,r=[],t=[],a=[],n=[],s=[],o="";for(var c in this.state.darkMode?(document.getElementsByTagName("body")[0].classList="dark-bg",o+="dark-mode-text","dark-mode-checkbox"):document.getElementsByTagName("body")[0].classList="",v){var l,d=v[c],m=i.a.createElement(A,{darkMode:this.state.darkMode,data:d,key:c,clickCallback:this.updateSelection.bind(this),app:this}),u=i.a.createElement("hr",{key:c+"_hr"});if(void 0==d.generated)switch(d.family){case"force":l=r;break;case"entropy":l=t;break;case"form":l=a;break;case"inertia":l=n;break;case"life":l=s}if(void 0!=l){void 0!=l&&void 0==l.generated&&l.push(m);["core_force","serpent","tiger","core_entropy","wolf","supplicant","core_form","silkworm","wealth","core_inertia","guardsman","rhinoceros","core_life","rabbit","stag"].includes(d.id)&&void 0==l.generated&&l.push(u)}}var f=null;if(this.state.selection.length>0){var h=P(this.state.selection,!0),p=j(this.state.selection,!0,!0),w=[],g=[],N=0;for(var C in h)w.push(i.a.createElement(E,{key:N,type:C,amount:h[C],darkMode:this.state.darkMode})),N++;for(var q in p)"any"==q?g.push(i.a.createElement("p",{key:N,className:o},", {0} any".format(p[q]))):g.push(i.a.createElement(E,{key:N,type:q,amount:p[q],darkMode:this.state.darkMode})),N++;f=i.a.createElement("div",{className:"flexbox-horizontal"},i.a.createElement("p",{className:o},"Requirements of chosen aspects: "),w,i.a.createElement("p",{className:o},", rewards:"),g)}var x=[];if(null!=this.state.result){var S=(this.state.result.bestPaths.length>1?"{0} paths found":"{0} path found").format(this.state.result.bestPaths.length)+" ({0} points to sustain)".format(this.state.result.buildPoints),M=i.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestPaths.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,i.a.createElement("p",{className:o},S),this.state.result.bestPaths.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null),O=this.state.result.bestPaths[this.state.resultIndex],_=this.state.darkMode?"-dark-mode":"";for(var I in O){var B=O[I];switch(B.role){case"goal":x.push(i.a.createElement("p",{className:"result-goal"+_,key:I},B.aspect.name));break;case"removable":x.push(i.a.createElement("p",{className:"result-removable"+_,key:I},B.aspect.name));break;case"remove":x.push(i.a.createElement("p",{className:"result-removable"+_,key:I},"\u274c "+B.aspect.name));break;case"key":x.push(i.a.createElement("p",{className:"result-key"+_,key:I},B.aspect.name))}I!=O.length-1&&x.push(i.a.createElement("p",{className:"result-arrow"+_,key:-I-1}," -> "))}}else M=null;return i.a.createElement("div",null,i.a.createElement("div",{className:"table"},i.a.createElement("div",{className:"aspect-column"},r),i.a.createElement("div",{className:"aspect-column"},t),i.a.createElement("div",{className:"aspect-column"},a),i.a.createElement("div",{className:"aspect-column"},n),i.a.createElement("div",{className:"aspect-column"},s)),i.a.createElement("div",{className:"bottom-interface"},i.a.createElement(y.a,{content:b,placement:"bottom",duration:"0"},i.a.createElement("div",{className:"num-input"},i.a.createElement("p",{className:o},"Builds to try:"),i.a.createElement("input",{type:"val",value:this.state.iterations,onChange:function(r){return e.setState({iterations:r.target.value})}}))),i.a.createElement(y.a,{content:k,placement:"bottom",duration:"0"},i.a.createElement("div",{className:"checkbox-bottom-ui"},i.a.createElement("input",{type:"checkbox",checked:this.state.useFullCore,onChange:function(r){return e.setState({useFullCore:r.target.checked})}}),i.a.createElement("p",{className:o},"Use a full Core"))),i.a.createElement(y.a,{content:"Change the UI to be dark.",placement:"bottom",duration:"0"},i.a.createElement("div",{className:"checkbox-bottom-ui"},i.a.createElement("input",{type:"checkbox",checked:this.state.darkMode,onChange:function(r){e.setState({darkMode:r.target.checked}),window.localStorage.setItem("darkMode",r.target.checked)}}),i.a.createElement("p",{className:o},"Dark mode")))),i.a.createElement("div",{className:"bottom-interface column"},f,i.a.createElement("button",{onClick:function(){return e.calculateV2()}},"Search short paths"),M),i.a.createElement("div",{className:"flexbox-horizontal"},x),i.a.createElement("div",{className:"source-code-link"},i.a.createElement("a",{href:"https://github.com/PinewoodPip/ee2calc"},"Source code")))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.f93a706a.chunk.js.map