(this.webpackJsonpee2calc=this.webpackJsonpee2calc||[]).push([[0],{11:function(e,r,t){e.exports=t(22)},16:function(e,r,t){},18:function(e,r,t){},22:function(e,r,t){"use strict";t.r(r);var a=t(0),i=t.n(a),s=t(8),n=t.n(s),o=(t(16),t(2)),l=t.n(o),c=t(9),d=t(4),u=t(5),m=t(7),h=t(6),f=(t(18),t(1)),p=t.n(f),v=t(3),y=(t(21),{core_full:{name:"Core (Full)",id:"core_full",family:"special",tier:1,requirements:{},rewards:{force:2,entropy:2,form:2,inertia:2,life:2},nodes:5,hasChoiceNode:!1},core_force:{name:"Core (Force)",id:"core_force",family:"force",tier:1,requirements:{},rewards:{force:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},falcon:{name:"Falcon",id:"falcon",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:2},nodes:5,hasChoiceNode:!1},hatchet:{name:"Hatchet",id:"hatchet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:2},nodes:5,hasChoiceNode:!1},hornet:{name:"Hornet",id:"hornet",family:"force",tier:1,requirements:{force:1},rewards:{force:3,life:1},nodes:3,hasChoiceNode:!1},serpent:{name:"Serpent",id:"serpent",family:"force",tier:1,requirements:{force:1},rewards:{force:3,entropy:1},nodes:3,hasChoiceNode:!1},arcanist:{name:"Arcanist",id:"arcanist",family:"force",tier:2,requirements:{force:5,life:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},archer:{name:"Archer",id:"archer",family:"force",tier:2,requirements:{force:3,entropy:2,life:1},rewards:{force:2,entropy:1},nodes:5,hasChoiceNode:!0},manticore:{name:"Manticore",id:"manticore",family:"force",tier:2,requirements:{force:5,entropy:1},rewards:{force:3},nodes:5,hasChoiceNode:!0},scorpion:{name:"Scorpion",id:"scorpion",family:"force",tier:2,requirements:{force:4,entropy:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},tiger:{name:"Tiger",id:"tiger",family:"force",tier:2,requirements:{force:4,life:2},rewards:{force:2},nodes:4,hasChoiceNode:!0},conqueror:{name:"Conqueror",id:"conqueror",family:"force",tier:3,requirements:{force:7,entropy:1,life:5},rewards:{},nodes:5,hasChoiceNode:!1},kraken:{name:"Kraken",id:"kraken",family:"force",tier:3,requirements:{force:7,entropy:5,life:1},rewards:{},nodes:5,hasChoiceNode:!1},wrath:{name:"Wrath",id:"wrath",family:"force",tier:3,requirements:{force:8,entropy:3,life:2},rewards:{},nodes:5,hasChoiceNode:!1},core_entropy:{name:"Core (Entropy)",id:"core_entropy",family:"entropy",tier:1,requirements:{},rewards:{entropy:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},crow:{name:"Crow",id:"crow",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:1},nodes:3,hasChoiceNode:!1},fly:{name:"Fly",id:"fly",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,form:2},nodes:5,hasChoiceNode:!1},vulture:{name:"Vulture",id:"vulture",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:2},nodes:5,hasChoiceNode:!1},wolf:{name:"Wolf",id:"wolf",family:"entropy",tier:1,requirements:{entropy:1},rewards:{entropy:3,force:1},nodes:3,hasChoiceNode:!1},blood_ape:{name:"Blood Ape",id:"blood_ape",family:"entropy",tier:2,requirements:{entropy:3,force:1,form:2},rewards:{entropy:2,form:1},nodes:5,hasChoiceNode:!0},extinction:{name:"Extinction",id:"extinction",family:"entropy",tier:2,requirements:{entropy:4,force:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},imp:{name:"Imp",id:"imp",family:"entropy",tier:2,requirements:{entropy:5,form:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},hyena:{name:"Hyena",id:"hyena",family:"entropy",tier:2,requirements:{entropy:5,force:1},rewards:{entropy:3},nodes:5,hasChoiceNode:!0},supplicant:{name:"Supplicant",id:"supplicant",family:"entropy",tier:2,requirements:{entropy:4,form:2},rewards:{entropy:2},nodes:4,hasChoiceNode:!0},death:{name:"Death",id:"death",family:"entropy",tier:3,requirements:{entropy:8,force:2,form:3},rewards:{},nodes:5,hasChoiceNode:!1},decay:{name:"Decay",id:"decay",family:"entropy",tier:3,requirements:{entropy:7,force:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},demilich:{name:"Demilich",id:"demilich",family:"entropy",tier:3,requirements:{entropy:7,force:1,form:5},rewards:{},nodes:6,hasChoiceNode:!1},core_form:{name:"Core (Form)",id:"core_form",family:"form",tier:1,requirements:{},rewards:{form:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},chalice:{name:"Chalice",id:"chalice",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:2},nodes:5,hasChoiceNode:!1},key:{name:"Key",id:"key",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:2},nodes:5,hasChoiceNode:!1},nautilus:{name:"Nautilus",id:"nautilus",family:"form",tier:1,requirements:{form:1},rewards:{form:3,inertia:1},nodes:3,hasChoiceNode:!1},silkworm:{name:"Silkworm",id:"silkworm",family:"form",tier:1,requirements:{form:1},rewards:{form:3,entropy:1},nodes:3,hasChoiceNode:!1},basilisk:{name:"Basilisk",id:"basilisk",family:"form",tier:2,requirements:{form:4,entropy:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},doppelganger:{name:"Doppelganger",id:"doppelganger",family:"form",tier:2,requirements:{form:5,entropy:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},dragon:{name:"Dragon",id:"dragon",family:"form",tier:2,requirements:{form:5,inertia:1},rewards:{form:3},nodes:5,hasChoiceNode:!0},gryphon:{name:"Gryphon",id:"gryphon",family:"form",tier:2,requirements:{form:4,inertia:2},rewards:{form:2},nodes:4,hasChoiceNode:!0},wealth:{name:"Wealth",id:"wealth",family:"form",tier:2,requirements:{form:3,inertia:2,entropy:1},rewards:{form:2,inertia:1},nodes:5,hasChoiceNode:!0},cerberus:{name:"Cerberus",id:"cerberus",family:"form",tier:3,requirements:{form:7,inertia:5,entropy:1},rewards:{},nodes:5,hasChoiceNode:!1},ritual:{name:"Ritual",id:"ritual",family:"form",tier:3,requirements:{form:7,inertia:1,entropy:5},rewards:{},nodes:5,hasChoiceNode:!1},sphinx:{name:"Sphinx",id:"sphinx",family:"form",tier:3,requirements:{form:8,inertia:3,entropy:2},rewards:{},nodes:5,hasChoiceNode:!1},core_inertia:{name:"Core (Inertia)",id:"core_inertia",family:"inertia",tier:1,requirements:{},rewards:{inertia:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},armadillo:{name:"Armadillo",id:"armadillo",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:1},nodes:3,hasChoiceNode:!1},auroch:{name:"Auroch",id:"auroch",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:1},nodes:3,hasChoiceNode:!1},crab:{name:"Crab",id:"crab",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,life:2},nodes:5,hasChoiceNode:!1},guardsman:{name:"Guardsman",id:"guardsman",family:"inertia",tier:1,requirements:{inertia:1},rewards:{inertia:3,form:2},nodes:5,hasChoiceNode:!1},casque:{name:"Casque",id:"casque",family:"inertia",tier:2,requirements:{inertia:5,life:1},rewards:{inertia:3},nodes:5,hasChoiceNode:!0},centurion:{name:"Centurion",id:"centurion",family:"inertia",tier:2,requirements:{inertia:3,form:1,life:2},rewards:{inertia:2,life:1},nodes:5,hasChoiceNode:!0},gladiator:{name:"Gladiator",id:"gladiator",family:"inertia",tier:2,requirements:{inertia:3,form:3},rewards:{inertia:2,form:1},nodes:5,hasChoiceNode:!0},hippopotamus:{name:"Hippopotamus",id:"hippopotamus",family:"inertia",tier:2,requirements:{inertia:4,life:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},rhinoceros:{name:"Rhinoceros",id:"rhinoceros",family:"inertia",tier:2,requirements:{inertia:4,form:2},rewards:{inertia:2},nodes:4,hasChoiceNode:!0},arena:{name:"Arena",id:"arena",family:"inertia",tier:3,requirements:{inertia:7,life:5,form:1},rewards:{},nodes:5,hasChoiceNode:!1},champion:{name:"Champion",id:"champion",family:"inertia",tier:3,requirements:{inertia:8,life:3,form:2},rewards:{},nodes:5,hasChoiceNode:!1},fortress:{name:"Fortress",id:"fortress",family:"inertia",tier:3,requirements:{inertia:7,life:1,form:5},rewards:{},nodes:5,hasChoiceNode:!1},core_life:{name:"Core (Life)",id:"core_life",family:"life",tier:1,requirements:{},rewards:{life:1},nodes:1,hasChoiceNode:!1,isCoreNode:!0},beetle:{name:"Beetle",id:"beetle",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:1},nodes:3,hasChoiceNode:!1},hind:{name:"Hind",id:"hind",family:"life",tier:1,requirements:{life:1},rewards:{life:3,force:2},nodes:5,hasChoiceNode:!1},lizard:{name:"Lizard",id:"lizard",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:1},nodes:3,hasChoiceNode:!1},rabbit:{name:"Rabbit",id:"rabbit",family:"life",tier:1,requirements:{life:1},rewards:{life:3,inertia:2},nodes:5,hasChoiceNode:!1},enchantress:{name:"Enchantress",id:"enchantress",family:"life",tier:2,requirements:{life:5,force:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},huntress:{name:"Huntress",id:"huntress",family:"life",tier:2,requirements:{life:3,force:2,inertia:1},rewards:{life:2,force:1},nodes:5,hasChoiceNode:!0},nymph:{name:"Nymph",id:"nymph",family:"life",tier:2,requirements:{life:5,inertia:1},rewards:{life:3},nodes:5,hasChoiceNode:!0},pegasus:{name:"Pegasus",id:"pegasus",family:"life",tier:2,requirements:{life:4,inertia:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},stag:{name:"Stag",id:"stag",family:"life",tier:2,requirements:{life:4,force:2},rewards:{life:2},nodes:4,hasChoiceNode:!0},goddess:{name:"Goddess",id:"goddess",family:"life",tier:3,requirements:{life:7,inertia:5,force:1},rewards:{},nodes:5,hasChoiceNode:!1},hope:{name:"Hope",id:"hope",family:"life",tier:3,requirements:{life:7,inertia:1,force:5},rewards:{},nodes:5,hasChoiceNode:!1},splendor:{name:"Splendor",id:"splendor",family:"life",tier:3,requirements:{life:8,inertia:2,force:3},rewards:{},nodes:5,hasChoiceNode:!1}}),b="How many builds should be randomly generated. With higher amounts the search takes longer but is more likely to find the most efficient build. Keep this in the thousands, and increase it when you're doing crazy searches (3+ aspects chosen, multiple T3s, stuff like that).",g="Use a full Core instead of its lone nodes. A full Core grants 2 of each embodiment for 5 points.",k="'Find shortest paths' gives you paths towards your chosen aspects that require the least amount of points to complete. 'Self-sustain' mode instead gives you a list of other aspects you need to pick in order to self-sustain the ones you chose, using the least amount of Ascension Points possible.";for(var w in String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,(function(r,t){return e[t]}))},y){var C=y[w];for(var N in C.rewardsPerPoint={},C.totalRequirements=0,C.rewards)C.rewardsPerPoint[N]=C.rewards[N]/C.nodes;for(var x in C.requirements)C.totalRequirements+=C.requirements[x]}var q=function(e){Object(m.a)(t,e);var r=Object(h.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(u.a)(t,[{key:"toggle",value:function(){this.props.app.state.selection.includes(this.props.data)?(this.props.app.updateSelection(this.props.data,null),this.props.data.isCoreNode||3==this.props.data.tier||this.props.app.updateExclusion(this.props.data,null)):this.props.app.state.excluded.includes(this.props.data)?this.props.app.updateExclusion(this.props.data,null):this.props.app.updateSelection(this.props.data,null)}},{key:"render",value:function(){var e=this,r="checkbox ",t="",a=void 0!=this.props.data.isCoreNode&&this.props.app.state.useFullCore?null:function(){return e.toggle()};return void 0!=this.props.data.isCoreNode&&this.props.app.state.useFullCore?(r+="chk-grey",t="\u2713"):this.props.app.state.selection.includes(this.props.data)?(r+="chk-green",t="\u2713"):this.props.app.state.excluded.includes(this.props.data)&&(r+="chk-red",t="\u2715"),i.a.createElement("div",{className:"unselectable "+r+" "+(this.props.darkMode?"dark-mode-checkbox":""),onClick:a},i.a.createElement("p",null,t))}}]),t}(i.a.Component),E=function(e){Object(m.a)(t,e);var r=Object(h.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"embodiment "+this.props.type+(this.props.darkMode?" dark-mode-embodiment":" ")},i.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.amount))}}]),t}(i.a.Component),A=function(e){Object(m.a)(t,e);var r=Object(h.a)(t);function t(){return Object(d.a)(this,t),r.apply(this,arguments)}return Object(u.a)(t,[{key:"getRequirementsText",value:function(){var e=[];for(var r in this.props.data.requirements){var t,a=this.props.data.requirements[r],s=r,n=this.props.darkMode;t=i.a.createElement(E,{key:r,darkMode:n,type:s,amount:a}),e.push(t)}return e}},{key:"getRewards",value:function(){var e=[],r={force:0,entropy:0,form:0,inertia:0,life:0};for(var t in this.props.data.rewards){var a=this.props.data.rewards[t];r[t]=a}var s,n=3!=this.props.data.tier?"Completion rewards:":"";for(var o in r)0!=r[o]&&e.push(i.a.createElement("p",{key:this.props.data.name+"_tooltip_"+o},r[o]+" "+((s=o).charAt(0).toUpperCase()+s.slice(1))));return i.a.createElement("div",null,i.a.createElement("p",null,n),i.a.createElement("div",null,e))}},{key:"getTooltip",value:function(){var e=this.props.data.name,r=this.props.data.nodes,t=this.getRewards(),a=(this.props.data.nodes>1?" ({0} nodes)":" ({0} node)").format(r);return i.a.createElement("div",{className:"tooltip"},i.a.createElement("p",{className:"tooltip"},e+a,i.a.createElement("br",null)),t)}},{key:"render",value:function(){return i.a.createElement(v.a,{content:this.getTooltip(),placement:"bottom",duration:"0"},i.a.createElement("div",{className:"aspect unselectable"},i.a.createElement(q,{data:this.props.data,app:this.props.app,darkMode:this.props.darkMode}),i.a.createElement("p",{className:this.props.darkMode?"dark-mode-text":""},this.props.data.name),i.a.createElement("div",{className:"embodiments-box"},this.getRequirementsText())))}}]),t}(i.a.Component);function S(e){for(var r=0,t=0;t<e.length;t++)r+=e[t].nodes;return r}function M(e,r){if(!Array.isArray(e)||!Array.isArray(r)||e.length!==r.length)return!1;for(var t=e.concat().sort(),a=r.concat().sort(),i=0;i<t.length;i++)if(t[i]!==a[i])return!1;return!0}function O(e){var r=[],t=[];for(var a in e){var i=[];for(var s in e[a]){var n=e[a][s];i.push(n.name)}for(var o in i.sort(),r)M(r[o],i)&&t.push(parseInt(r.length));r.push(i)}return console.log(r),console.log(t),e.filter((function(e,r){return!t.includes(r)}))}function _(e){var r=[],t=[];for(var a in e){var i=[];for(var s in e[a].build){var n=e[a].build[s];i.push(n.name)}for(var o in i.sort(),r)M(r[o],i)&&t.push(parseInt(r.length));r.push(i)}return console.log(r),console.log(t),e.filter((function(e,r){return!t.includes(r)}))}function B(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t={force:0,entropy:0,form:0,inertia:0,life:0};for(var a in e){var i=e[a];for(var s in i.requirements)i.requirements[s]>t[s]&&(t[s]=i.requirements[s])}if(r)for(var n in t)t[n]<=0&&delete t[n];return t}function I(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={force:0,entropy:0,form:0,inertia:0,life:0};for(var i in r&&(a.any=0),e){var s=e[i];for(var n in r&&2==s.tier&&a.any++,s.rewards)a[n]+=s.rewards[n]}if(t)for(var o in a)a[o]<=0&&delete a[o];return a}function F(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r){var t=I(e),a=B(r);for(var i in a)if(t[i]<a[i])return!1;return!0}t=I(e),a=B(e,!1,!0);for(var s in a)if(t[s]<a[s])return!1;return!0}function j(e,r){var t=B(r),a=I(e);for(var i in a)t[i]-=a[i],t[i]<0&&(t[i]=0);var s=[];for(var n in t)t[n]>0&&s.push(n);return s}function D(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=B(e);for(var a in e){var i=e[a];for(var s in i.rewards)t[s]-=i.rewards[s]}if(r)for(var n in t)t[n]<1&&delete t[n];return t}function P(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=B(r),i=I(e);for(var s in i)a[s]-=i[s],a[s]<0&&(a[s]=0);if(t)for(var n in a)a[n]<1&&delete a[n];return a}function R(e,r){for(var t in r)if(void 0!=e.rewards[t]&&e.rewards[t]>0)return!0;return!1}function z(e,r){for(var t in e)if(e[t].id==r.id)return!0;return!1}var T=function(e){Object(m.a)(t,e);var r=Object(h.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=r.call(this,e)).state={selection:[],excluded:[],result:null,useFullCore:!1,considerDipping:!1,selfSustain:!0,preference:"0",iterations:4e3,maximumOutputs:10,resultIndex:0,darkMode:!1,mode:"fastest"},"true"==window.localStorage.getItem("darkMode")&&(a.state.darkMode=!0),a}return Object(u.a)(t,[{key:"changeIndex",value:function(e){var r=this.state.resultIndex;(r+=e)>this.state.result.bestBuilds.length-1?r=0:r<0&&(r=this.state.result.bestBuilds.length-1),this.setState({resultIndex:r})}},{key:"filterApplicableAspects",value:function(e){for(var r=[],t=[],a=0;a<this.state.excluded.length;a++)t.push(this.state.excluded[a].id);for(var i=0;i<e.length;i++){void 0!=(l=e[i]).isCoreNode&&this.state.useFullCore||r.push(l)}this.state.useFullCore&&r.push(y.core_full),e=r;var s={},n={force:0,entropy:0,form:0,inertia:0,life:0};for(var o in e){var l=e[o];n.force=l.requirements.force>n.force?l.requirements.force:n.force,n.entropy=l.requirements.entropy>n.entropy?l.requirements.entropy:n.entropy,n.form=l.requirements.form>n.form?l.requirements.form:n.form,n.inertia=l.requirements.inertia>n.inertia?l.requirements.inertia:n.inertia,n.life=l.requirements.life>n.life?l.requirements.life:n.life}function c(e,r){for(var a in e.rewards){var i=e.rewards[a];if(t.includes(e.id))return!1;if(e.dipping&&!this.state.considerDipping)return!1;if("core_full"==e.id&&!this.state.useFullCore)return!1;if(e.isCoreNode&&this.state.useFullCore)return!1;if(void 0!=e.generated&&0==r[e.extraEmbodimentType])return!1;if(i>0&&r[a]>0)return!0}return!1}for(var i in y){l=y[i];c.bind(this)(l,n)&&(s[i]=l)}for(var d in e)s.hasOwnProperty(e[d].id)||(s[e[d].id]=e[d]);var u;for(var m in s)s[m].totalRequirements>0&&(u=s[m]);for(var h={},f=0;f<e.length;f++){var p=e[f];void 0!=p.generated&&0==n[p.extraEmbodimentType]||void 0!=p.dipping||(h[f]=e[f])}return this.setState({waiting:!0}),{reqs:n,aspects:s,chosenAspects:h,aspectWithHighestRequirements:u}}},{key:"calculateShortestPath",value:function(){var e=Object(c.a)(l.a.mark((function e(){var r,t,a,i,s,n,o,c,d,u,m,h,f,v,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.filterApplicableAspects(this.state.selection)).chosenAspects=p.a.cloneDeep(r.chosenAspects),0!=Object.keys(r.chosenAspects).length){e.next=4;break}return e.abrupt("return");case 4:if(!(this.state.excluded.length>=6)){e.next=7;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=7;break}return e.abrupt("return");case 7:for(i in t=[],a=[],r.chosenAspects)t.push(r.chosenAspects[i]),a.push(r.chosenAspects[i]);for(s=[],n=function(e){c=[],d=0,u=0,m=[];var t=0,i=p.a.cloneDeep(a),n=p.a.cloneDeep(r.aspects),o=[];function l(e){(u+=e)>d&&(d=u)}function h(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=p.a.cloneDeep(e);null==r||(t.rewards={},t.rewards[r]=1,t.name+=" (partial, "+r+")"),t.nodes=2,t.fullAspect=e,o.push(t),c.push(t),m.push({aspect:t,role:f(e)?"goal":"removable"}),l(t.nodes),y(!0)}function f(e){for(var r in i)if(i[r].id==e.id)return!0;return!1}function v(e,r,t){var a=B(r.concat(e),!0),i=B(r,!0),s=I(e.filter((function(e){return e!=t})));for(var n in a)void 0==i[n]&&delete a[n];for(var o in a)if(s[o]<a[o])return!1;return!0}function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=m.slice();for(var t in r.reverse(),r)"removable"==r[t].role&&function(){var a=r[t].aspect;if((void 0==a.isCoreNode||e)&&(2!=a.tier||void 0!=a.fullAspect)){var s=I(c,!1,!0),n=B(i,!0),o=!1;for(var d in n)if(s[d]>n[d]){o=!0;break}if(o)if(2==a.tier){var u=c.filter((function(e){return e!=a&&e.name!=a.fullAspect.name+" (complete)"})),h=p.a.cloneDeep(a.fullAspect);for(var f in a.rewards)h.rewards[f]+=1;if(u.push(h),v(u,i,h)){var y,b;for(var g in m)m[g].aspect.name==a.fullAspect.name+" (complete)"&&(y=m[g].aspect,b=g);m[b].role="removable-removed",m.push({aspect:y,role:"remove"}),c=c.filter((function(e){return e.name!=y.name})),l(-a.nodes),m[r.length-1-t].role="removable-removed",m.push({aspect:a,role:"remove"}),c=c.filter((function(e){return e.name!=a.name})),l(-a.nodes),console.log(c)}}else v(c,i,a)&&(m[r.length-1-t].role="removable-removed",m.push({aspect:a,role:"remove"}),c=c.filter((function(e){return e.name!=a.name})),l(-a.nodes))}}()}for(var b=function(e){var r=!1;y(!1);var a=[];for(var v in o){var b=p.a.cloneDeep(o[v].fullAspect),g=f(b);b.nodes=b.nodes-2,b.name+=" (complete)",c.push(b),m.push({aspect:b,role:g?"goal":"removable"}),l(b.nodes),a.push(o[v]),y(!0),g&&t++}for(var k in o=o.filter((function(e){return!a.includes(e)})),i){var w=i[k];if(F(c,[w])&&!z(c,w)){if(2==w.tier){var C=B(i,!0);h(w,p.a.sample(Object.keys(C)))}else c.push(w),m.push({aspect:w,role:"goal"}),l(w.nodes),t++;r=!0}}if(m.length>25)return"break";if(!r){if(t==i.length){y(!0);var N={path:m,build:c,maxPoints:d,points:u};return s.push(N),"break"}var x=p.a.sample(n),q=P(c,i,!0),E=j(c,i);if(R(x,q)&&!z(c,x)&&F(c,[x]))if(2==x.tier){var A=p.a.sample(E);void 0!=A&&h(x,A)}else c.push(x),m.push({aspect:x,role:"removable"}),l(x.nodes)}},g=0;g<1e3;g++){if("break"===b())break}},o=0;o<this.state.iterations;o++)n();for(v in h=[],f=null,s)y=s[v].maxPoints,0==h.length?(h.push(s[v]),f=y):y<f?(h=[s[v]],f=y):y==f&&h.length<=this.state.maximumOutputs&&h.push(s[v]);console.log(h),console.log(f),0==h.length?console.log("No results found. Try again and/or increase the 'builds to try' setting."):this.setState({result:{bestBuilds:_(h),buildPoints:f,pointsNeeded:f}});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateV2",value:function(){var e=Object(c.a)(l.a.mark((function e(){var r,t,a,i,s,n,o,c,d,u,m,h,f,v,y,b,g,k,w,C,N,x,q,E,A,M,I,j,P,T,H,L,W,G,J,U;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.filterApplicableAspects(this.state.selection)).chosenAspects=p.a.cloneDeep(r.chosenAspects),0!=Object.keys(r.chosenAspects).length){e.next=4;break}return e.abrupt("return");case 4:if(!(this.state.excluded.length>=6)){e.next=7;break}if(window.confirm("You've excluded a lot of aspects. I haven't implemented failsafes for that so if you continue, the webpage may freeze if there is literally no way to build towards the goal. Just a warnin'.")){e.next=7;break}return e.abrupt("return");case 7:for(i in t=B(r.chosenAspects),a=[],t)t[i]>0&&a.push(i);for(o in s=[],n=[],r.chosenAspects)s.push(r.chosenAspects[o]),n.push(r.chosenAspects[o]);c=[],console.log(r.aspects),d=0;case 16:if(!(d<this.state.iterations)){e.next=39;break}for(f in u=p.a.cloneDeep(n),m=p.a.cloneDeep(r.aspects),h=[],u)2==(v=u[f]).tier&&(y=p.a.sample(a),v.rewards[y]=void 0==v.rewards[y]?1:v.rewards[y]+1,v.name+=" (+"+y+")"),h.push(v);b=0;case 22:if(!(b<1e3)){e.next=36;break}if(!(h.length>=10)){e.next=25;break}return e.abrupt("break",36);case 25:if(g=D(h),!F(h)){e.next=31;break}return c.push(h),e.abrupt("break",36);case 31:R(k=p.a.sample(m),g)&&!z(h,k)&&(2==k.tier?void 0!=(w=p.a.sample(a))&&(k.rewards[w]=void 0==k.rewards[w]?1:k.rewards[w]+1,k.name+=" (+"+w+")",h.push(k)):h.push(k));case 33:b++,e.next=22;break;case 36:d++,e.next=16;break;case 39:for(x in C=[],N=null,c)q=c[x],E=S(q),0==C.length?(C.push(q),N=E):E<N?(C=[q],N=E):E==N&&C.length<=this.state.maximumOutputs&&C.push(q);console.log(C),console.log(N),A=[],M=null,e.t0=l.a.keys(C);case 47:if((e.t1=e.t0()).done){e.next=73;break}return e.t1.value,e.abrupt("break",73);case 56:if(!(j<this.state.iterations/3)){e.next=68;break}for(P in void 0)F(void 0,[T=(void 0)[P]])&&!z(void 0,T)&&(console.log("picked "+T.name+" (goal) because reqs were fulfilled"),(void 0).push(T),(void 0).push({aspect:T,role:z(r.chosenAspects,T)?"goal":"key"}),I++);if(I!==(void 0).length){e.next=62;break}return e.abrupt("break",68);case 62:H=p.a.sample(void 0),L=D(void 0,!0),R(H,t)&&!z(void 0,H)&&F(void 0,[H])&&(2==H.tier?void 0!=(W=p.a.sample(L))&&(H.rewards[W]=void 0==H.rewards[W]?1:H.rewards[W]+1,H.name+=" (+"+W+")",(void 0).push(H),(void 0).push({aspect:H,role:"removable"})):((void 0).push(H),(void 0).push({aspect:H,role:"removable"})));case 65:j++,e.next=56;break;case 68:for(G=0;G<(void 0).length;G++)"removable"==(void 0)[G].role&&(void 0).push({aspect:(void 0)[G].aspect,role:"remove"});J=S(void 0),0==A.length?(A.push(void 0),M=J):J<M?(A=[void 0],M=J):J==M&&A.push(void 0),e.next=47;break;case 73:A=_(A),C=O(C),U={bestBuilds:C,buildPoints:N,pointsNeeded:N},this.setState({result:U,resultIndex:0});case 77:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSelection",value:function(e,r){var t=this.state.selection.slice();t.includes(e)?t=t.filter((function(r){return r!=e})):t.push(e),this.setState({selection:t})}},{key:"updateExclusion",value:function(e,r){var t=this.state.excluded.slice();t.includes(e)?t=t.filter((function(r){return r!=e})):t.push(e),this.setState({excluded:t})}},{key:"run",value:function(){switch(this.state.mode){case"fastest":this.calculateShortestPath();break;case"self-sustain":this.calculateV2();break;case"minmaxembodiments":this.calculateMaxEmbs()}}},{key:"renderResults",value:function(){var e=this;if(null==this.state.result)return null;var r=[];if("fastest"==this.state.mode){var t=(this.state.result.bestBuilds.length>1?"{0} paths found":"{0} path found").format(this.state.result.bestBuilds.length)+" ({0} points needed, {1} to sustain)".format(this.state.result.bestBuilds[this.state.resultIndex].maxPoints,this.state.result.bestBuilds[this.state.resultIndex].points),a=i.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestBuilds.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,i.a.createElement("p",{className:this.textClass},t),this.state.result.bestBuilds.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null),s=this.state.result.bestBuilds[this.state.resultIndex].path,n=this.state.darkMode?"-dark-mode":"";for(var o in s){var l=s[o];switch(l.role){case"goal":r.push(i.a.createElement("p",{className:"result-goal"+n,key:o},l.aspect.name));break;case"removable-removed":case"removable":r.push(i.a.createElement("p",{className:"result-removable"+n,key:o},l.aspect.name));break;case"remove":r.push(i.a.createElement("p",{className:"result-removable"+n,key:o},"\u274c "+l.aspect.name));break;case"key":r.push(i.a.createElement("p",{className:"result-key"+n,key:o},l.aspect.name))}o!=s.length-1&&r.push(i.a.createElement("p",{className:"result-arrow"+n,key:-o-1}," -> "))}return i.a.createElement("div",null,i.a.createElement("div",null,a),i.a.createElement("div",{className:"flexbox-horizontal"},r))}if("self-sustain"==this.state.mode){var c=(this.state.result.bestBuilds.length>1?"{0} builds found":"{0} build found").format(this.state.result.bestBuilds.length)+" ({0} points to sustain)".format(this.state.result.buildPoints),d=[],u=(a=i.a.createElement("div",{className:"flexbox-horizontal"},this.state.result.bestBuilds.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(1)}},"<"):null,i.a.createElement("p",{className:this.textClass},c),this.state.result.bestBuilds.length>1?i.a.createElement("button",{className:"arrow-button",onClick:function(){return e.changeIndex(-1)}},">"):null),this.state.result.bestBuilds[this.state.resultIndex]);for(var m in u)d.push(i.a.createElement("p",{className:this.textClass+" result-goal"},u[m].name)),m!=u.length-1&&d.push(i.a.createElement("p",{className:this.textClass,style:{marginRight:"5px"}},", "));return i.a.createElement("div",null,a,i.a.createElement("div",{className:"flexbox-horizontal"},d),i.a.createElement("div",{className:"flexbox-horizontal"},r))}}},{key:"render",value:function(){var e=this,r=[],t=[],a=[],s=[],n=[];for(var o in this.state.darkMode?document.getElementsByTagName("body")[0].classList="dark-bg":document.getElementsByTagName("body")[0].classList="",y){var l,c=y[o],d=i.a.createElement(A,{darkMode:this.state.darkMode,data:c,key:o,clickCallback:this.updateSelection.bind(this),app:this}),u=i.a.createElement("hr",{key:o+"_hr"});if(void 0==c.generated)switch(c.family){case"force":l=r;break;case"entropy":l=t;break;case"form":l=a;break;case"inertia":l=s;break;case"life":l=n}if(void 0!=l){void 0!=l&&void 0==l.generated&&l.push(d);["core_force","serpent","tiger","core_entropy","wolf","supplicant","core_form","silkworm","wealth","core_inertia","guardsman","rhinoceros","core_life","rabbit","stag"].includes(c.id)&&void 0==l.generated&&l.push(u)}}var m=null;if(this.state.selection.length>0||this.state.useFullCore){var h=this.state.selection.slice();this.state.useFullCore&&(h.push(y.core_full),h=h.filter((function(e){return void 0==e.isCoreNode})));var f=B(h,!0),p=I(h,!0,!0),w=S(h),C=[],N=[],x=i.a.createElement("p",{className:this.textClass,style:{marginLeft:"0px"}},", nodes: {0}".format(w)),q=0;for(var M in f)C.push(i.a.createElement(E,{key:q,type:M,amount:f[M],darkMode:this.state.darkMode})),q++;for(var O in 0==C.length&&C.push(i.a.createElement("p",{className:this.textClass,style:{marginLeft:"5px"}},"none")),p)"any"==O?N.push(i.a.createElement("p",{key:q,className:this.textClass},", {0} any".format(p[O]))):N.push(i.a.createElement(E,{key:q,type:O,amount:p[O],darkMode:this.state.darkMode})),q++;0==N.length&&N.push(i.a.createElement("p",{className:this.textClass,style:{marginLeft:"5px"}},"none.")),m=i.a.createElement("div",{className:"flexbox-horizontal"},i.a.createElement("p",{className:this.textClass},"Requirements of chosen aspects: "),C,i.a.createElement("p",{className:this.textClass},", rewards:"),N,x)}var _=this.renderResults();return i.a.createElement("div",null,i.a.createElement("div",{className:"table"},i.a.createElement("div",{className:"aspect-column"},r),i.a.createElement("div",{className:"aspect-column"},t),i.a.createElement("div",{className:"aspect-column"},a),i.a.createElement("div",{className:"aspect-column"},s),i.a.createElement("div",{className:"aspect-column"},n)),i.a.createElement("div",{className:"bottom-interface"},i.a.createElement(v.a,{content:b,placement:"bottom",duration:"0"},i.a.createElement("div",{className:"num-input"},i.a.createElement("p",{className:this.textClass},"Builds to try:"),i.a.createElement("input",{type:"val",value:this.state.iterations,onChange:function(r){return e.setState({iterations:r.target.value})}}))),i.a.createElement(v.a,{content:g,placement:"bottom",duration:"0"},i.a.createElement("div",{className:"checkbox-bottom-ui"},i.a.createElement("input",{type:"checkbox",checked:this.state.useFullCore,onChange:function(r){return e.setState({useFullCore:r.target.checked})}}),i.a.createElement("p",{className:this.textClass},"Use a full Core"))),i.a.createElement(v.a,{content:"Change the UI to be dark. This setting persists even if you refresh the page.",placement:"bottom",duration:"0"},i.a.createElement("div",{className:"checkbox-bottom-ui"},i.a.createElement("input",{type:"checkbox",checked:this.state.darkMode,onChange:function(r){e.setState({darkMode:r.target.checked}),window.localStorage.setItem("darkMode",r.target.checked)}}),i.a.createElement("p",{className:this.textClass},"Dark mode"))),i.a.createElement(v.a,{content:k,placement:"bottom",duration:"0"},i.a.createElement("div",{className:"dropdown"},i.a.createElement("select",{onChange:function(r){return e.setState({mode:r.target.value,result:null})}},i.a.createElement("option",{value:"fastest"},"Find shortest paths"),i.a.createElement("option",{value:"self-sustain"},"Find self-sustainable builds"))))),i.a.createElement("div",{className:"bottom-interface column"},m,i.a.createElement("button",{onClick:function(){return e.run()}},"self-sustain"==this.state.mode?"Find self-sustained builds":"Find shortest paths"),_),i.a.createElement("div",{className:"source-code-link"},i.a.createElement("a",{href:"https://github.com/PinewoodPip/ee2calc"},"Source code")))}},{key:"textClass",get:function(){return this.state.darkMode?"dark-mode-text":""}},{key:"checkboxClass",get:function(){return this.state.darkMode?"dark-mode-checkbox":""}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.c17c37d6.chunk.js.map